(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[498],{91220:function(C,x,e){"use strict";e.d(x,{Z:function(){return m}});var I=e(64254);function m(r,g){var u;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(u=(0,I.Z)(r))||g&&r&&typeof r.length=="number"){u&&(r=u);var b=0,S=function(){};return{s:S,n:function(){return b>=r.length?{done:!0}:{done:!1,value:r[b++]}},e:function(i){throw i},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z=!0,k=!1,f;return{s:function(){u=r[Symbol.iterator]()},n:function(){var i=u.next();return Z=i.done,i},e:function(i){k=!0,f=i},f:function(){try{!Z&&u.return!=null&&u.return()}finally{if(k)throw f}}}}},48627:function(C){C.exports={container:"container___2RXc3"}},18398:function(C){C.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},11428:function(C,x,e){"use strict";var I=e(67294),m=e(48627),r=e.n(m),g=e(85893),u=function(S){return(0,g.jsx)("div",{className:"".concat(r().container),style:{backgroundImage:"url(./pics/background.png)"},children:S.children})};x.Z=u},68370:function(C,x,e){"use strict";e.r(x),e.d(x,{default:function(){return X}});var I=e(34792),m=e(48086),r=e(67294),g=e(48971),u=e(20228),b=e(11382),S=e(57663),Z=e(71577),k=e(88983),f=e(47933),y=e(47673),i=e(24044),de=e(32157),B=e(82363),ue=e(9715),h=e(93766),F=e(2824),ce=e(89032),U=e(15746),j=e(11849),me=e(13062),E=e(71230),K=e(1870),W=e(11700),G=e(18398),p=e.n(G),D=e(37071),o=e(15156),n=e(85893),M=function(a){return(0,n.jsxs)("div",{className:p()._ppcard,style:a.style,children:[(0,n.jsxs)(E.Z,{className:p().titleRow,style:{display:a.title?void 0:"none"},children:[(0,n.jsx)(W.Z,{className:p().title,children:a.title}),(0,n.jsx)("div",{children:(0,n.jsx)(K.Z,{style:{fontSize:"12px"},onClick:function(){return m.default.info({content:a.content,onClick:function(){return window.open(a.docUrl)}})}})})]}),(0,n.jsx)(E.Z,{style:{marginTop:26},children:(0,n.jsx)(U.Z,{span:24,style:(0,j.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},a.innerStyle),children:a.children})})]})},Q=function(a){var c=(0,o.Gd)(r.useState),v=D.Z.getQueryVariable("projectId"),Y=(0,r.useState)(!1),z=(0,F.Z)(Y,2),w=z[0],A=z[1],q=(0,r.useState)([]),O=(0,F.Z)(q,2),N=O[0],_=O[1],ee=(0,r.useState)(),R=(0,F.Z)(ee,2),te=R[0],V=R[1],l=(0,o.Ad)("component.PPCreater"),ne=function(s){A(!0);var d={};s.segMaskType&&(d.segMaskType=s.segMaskType),v?c.update(v,(0,j.Z)((0,j.Z)({},s),{},{otherSettings:d})).then(function(){g.m8.push("/project_overview?projectId=".concat(v))}):c.create((0,j.Z)((0,j.Z)({},s),{},{taskCategoryId:o.ux[a.taskCategory].id,otherSettings:d})).catch(function(P){m.default.error(l("creationFail")),D.Z.parseError(P,m.default),A(!1)}).then(function(P){P&&g.m8.push("/".concat((0,o.LV)(a.taskCategory),"?projectId=").concat(P.projectId))})},ae=h.Z.useForm(),le=(0,F.Z)(ae,1),T=le[0];(0,r.useEffect)(function(){c.getCurr(v).then(function(t){var s,d={name:t==null?void 0:t.name,description:t==null?void 0:t.description,dataDir:t==null?void 0:t.dataDir,labelDir:t==null?void 0:t.labelDir,labelFormat:t==null?void 0:t.labelFormat,segMaskType:t==null||(s=t.otherSettings)===null||s===void 0?void 0:s.segMaskType};console.log("values",d),console.log("othersettings",t==null?void 0:t.otherSettings),t!=null&&t.labelFormat&&V(t.labelFormat),T.setFieldsValue(d)})},[]);var re={classification:{single_class:"clas/single/",multi_class:"clas/multi/"},detection:{coco:"det/coco/",voc:"det/voc/"},semanticSegmentation:{mask:"semantic_seg/mask/",polygon:"semantic_seg/polygon/"},instanceSegmentation:{mask:"instance_seg/mask/",polygon:"instance_seg/polygon/"}},se=B.Z.DirectoryTree,oe=function(s,d){console.log("Trigger Select",s,d,d.node.isLeaf!=null);var P=d.node.isLeaf!=null;P&&window.open("/api/samples/file?path="+d.node.key)};function ie(){return N.length==0?(0,n.jsx)("img",{src:a.imgSrc,style:{width:"40rem"}}):(0,n.jsx)("div",{children:(0,n.jsx)(se,{onSelect:oe,treeData:N,blockNode:!1})})}return(0,n.jsx)("div",{className:p().shadow,style:a.style,children:(0,n.jsxs)(b.Z,{tip:"Import in progress",spinning:w,children:[(0,n.jsx)("div",{id:"left",className:p().block_l,children:(0,n.jsx)(M,{title:l(a.taskCategory,"global")+l("project"),content:l("titleContent"),docUrl:"https://github.com/PaddleCV-SIG/PaddleLabel/blob/develop/doc/".concat((0,o.LV)(a.taskCategory),".md"),style:{height:760,padding:"1.25rem 0"},children:(0,n.jsxs)(h.Z,{form:T,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(s){console.log(s),ne(s)},children:[(0,n.jsx)(h.Z.Item,{name:"name",label:l("projectName"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,n.jsx)(i.Z,{size:"large",placeholder:l("anyString","global"),style:{height:"3.13rem"}})}),(0,n.jsx)(h.Z.Item,{name:"dataDir",label:l("datasePath"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,n.jsx)(i.Z,{size:"large",placeholder:l("absolutePath","global"),style:{height:"3.13rem"},disabled:v!=null})}),(0,n.jsx)(h.Z.Item,{name:"description",label:l("description"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,n.jsx)(i.Z,{size:"large",placeholder:l("anyString","global"),style:{height:"3.13rem"}})}),(0,n.jsx)(h.Z.Item,{name:"labelFormat",label:l("labelFormat"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:o.ux[a.taskCategory].labelFormats!=null,message:"Please choose a label import/export format"}],style:{fontSize:"1.5rem",display:o.ux[a.taskCategory].labelFormats!=null?void 0:"none"},children:(0,n.jsx)(f.ZP.Group,{size:"large",style:{height:"3.13rem"},onChange:function(){V(T.getFieldValue("labelFormat")),o.bY.getStructure(re[a.taskCategory][T.getFieldValue("labelFormat")]).then(function(s){console.log("sample file structure",s),_(s)})},children:Object.keys(o.ux[a.taskCategory].labelFormats).map(function(t){return(0,n.jsx)(f.ZP,{value:t,children:l((0,o.os)(t),"global.labelFormat")},t)})})}),(0,n.jsx)(h.Z.Item,{name:"segMaskType",label:l("segMaskType"),labelCol:{span:6},wrapperCol:{span:16},style:{fontSize:"1.5rem",display:te=="mask"&&a.taskCategory=="semanticSegmentation"?void 0:"none"},children:(0,n.jsx)(f.ZP.Group,{size:"large",style:{height:"3.13rem"},children:["pesudo","grayscale"].map(function(t){return(0,n.jsx)(f.ZP,{value:t,children:l(t,"global.segMaskType")},t)})})}),(0,n.jsx)(h.Z.Item,{name:"maxPoints",label:l("maxPoints"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:a.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:a.taskCategory=="keypointDetection"?void 0:"none"},children:(0,n.jsx)(i.Z,{size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,n.jsxs)(h.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,n.jsx)(Z.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:l(v?"update":"create")}),"\xA0\xA0",(0,n.jsx)(Z.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){g.m8.goBack()},children:l("cancel")})]})]})})}),(0,n.jsx)("div",{id:"right",className:p().block_r,children:(0,n.jsx)(M,{style:{height:"43.63rem",padding:"0.5rem 0"},children:ie()})})]})})},$=Q,H=e(11428),J=function(){(0,o.bo)();var a=(0,o.Ad)("pages.projectDetail"),c=D.Z.getQueryVariable("taskCategory");return console.log(c),c?c in o.ux?(0,n.jsx)(H.Z,{children:(0,n.jsx)($,{imgSrc:"./pics/illustration.jpg",taskCategory:c})}):(m.default.error(a("invalidTaskCategory")+" "+c),g.m8.push("/"),null):(m.default.error(a("noTaskCategory")),g.m8.push("/"),null)},X=J}}]);
