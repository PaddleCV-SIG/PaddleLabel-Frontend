(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[498],{91220:function(x,v,e){"use strict";e.d(v,{Z:function(){return d}});var I=e(64254);function d(l,m){var i;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(i=(0,I.Z)(l))||m&&l&&typeof l.length=="number"){i&&(l=i);var C=0,f=function(){};return{s:f,n:function(){return C>=l.length?{done:!0}:{done:!1,value:l[C++]}},e:function(u){throw u},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,b=!1,P;return{s:function(){i=l[Symbol.iterator]()},n:function(){var u=i.next();return y=u.done,u},e:function(u){b=!0,P=u},f:function(){try{!y&&i.return!=null&&i.return()}finally{if(b)throw P}}}}},48627:function(x){x.exports={container:"container___2RXc3"}},18398:function(x){x.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},11428:function(x,v,e){"use strict";var I=e(67294),d=e(48627),l=e.n(d),m=e(85893),i=function(f){return(0,m.jsx)("div",{className:"".concat(l().container),style:{backgroundImage:"url(./pics/background.png)"},children:f.children})};v.Z=i},36505:function(x,v,e){"use strict";e.d(v,{I:function(){return l}});var I=e(48971),d=e(85893),l=function(i){var C=(0,I.YB)();return function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,b=f==null||f==""?y:y+"."+f;return(0,d.jsx)("p",{"data-test-id":b,style:{display:"inline"},children:C.formatMessage({id:b})})}}},68370:function(x,v,e){"use strict";e.r(v),e.d(v,{default:function(){return w}});var I=e(34792),d=e(48086),l=e(67294),m=e(48971),i=e(20228),C=e(11382),f=e(57663),y=e(71577),b=e(88983),P=e(47933),p=e(47673),u=e(24044),ce=e(32157),V=e(82363),me=e(9715),h=e(93766),D=e(2824),ge=e(89032),K=e(15746),F=e(11849),fe=e(13062),k=e(71230),W=e(1870),G=e(11700),J=e(18398),Z=e.n(J),M=e(37071),s=e(15156),Q=e(36505),n=e(85893),L=function(a){return(0,n.jsxs)("div",{className:Z()._ppcard,style:a.style,children:[(0,n.jsxs)(k.Z,{className:Z().titleRow,style:{display:a.title?void 0:"none"},children:[(0,n.jsx)(G.Z,{className:Z().title,children:a.title}),(0,n.jsx)("div",{children:(0,n.jsx)(W.Z,{style:{fontSize:"12px"},onClick:function(){return d.default.info({content:a.content,onClick:function(){return window.open(a.docUrl)}})}})})]}),(0,n.jsx)(k.Z,{style:{marginTop:26},children:(0,n.jsx)(K.Z,{span:24,style:(0,F.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},a.innerStyle),children:a.children})})]})},$=function(a){var g=(0,s.Gd)(l.useState),S=M.Z.getQueryVariable("projectId"),q=(0,l.useState)(!1),A=(0,D.Z)(q,2),_=A[0],z=A[1],ee=(0,l.useState)([]),N=(0,D.Z)(ee,2),B=N[0],te=N[1],ne=(0,l.useState)(),R=(0,D.Z)(ne,2),ae=R[0],U=R[1],T=(0,Q.I)("component.PPCreater"),o=(0,s.Ad)("component.PPCreater"),le=function(r){z(!0);var c={};r.segMaskType&&(c.segMaskType=r.segMaskType),S?g.update(S,(0,F.Z)((0,F.Z)({},r),{},{otherSettings:c})).then(function(){m.m8.push("/project_overview?projectId=".concat(S))}):g.create((0,F.Z)((0,F.Z)({},r),{},{taskCategoryId:s.ux[a.taskCategory].id,otherSettings:c})).catch(function(j){d.default.error(o("creationFail")),M.Z.parseError(j,d.default),z(!1)}).then(function(j){j&&m.m8.push("/".concat((0,s.LV)(a.taskCategory),"?projectId=").concat(j.projectId))})},re=h.Z.useForm(),se=(0,D.Z)(re,1),E=se[0];(0,l.useEffect)(function(){g.getCurr(S).then(function(t){var r,c={name:t==null?void 0:t.name,description:t==null?void 0:t.description,dataDir:t==null?void 0:t.dataDir,labelDir:t==null?void 0:t.labelDir,labelFormat:t==null?void 0:t.labelFormat,segMaskType:t==null||(r=t.otherSettings)===null||r===void 0?void 0:r.segMaskType};console.log("values",c),console.log("othersettings",t==null?void 0:t.otherSettings),t!=null&&t.labelFormat&&U(t.labelFormat),E.setFieldsValue(c)})},[]);var oe={classification:{single_class:"clas/single/",multi_class:"clas/multi/"},detection:{coco:"det/coco/",voc:"det/voc/"},semanticSegmentation:{mask:"semantic_seg/mask/",polygon:"semantic_seg/polygon/"},instanceSegmentation:{mask:"instance_seg/mask/",polygon:"instance_seg/polygon/"}},ie=V.Z.DirectoryTree,de=function(r,c){console.log("Trigger Select",r,c,c.node.isLeaf!=null);var j=c.node.isLeaf!=null;j&&window.open("/api/samples/file?path="+c.node.key)};function ue(){return B.length==0?(0,n.jsx)("img",{src:a.imgSrc,style:{width:"40rem"}}):(0,n.jsx)("div",{children:(0,n.jsx)(ie,{onSelect:de,treeData:B,blockNode:!1})})}return(0,n.jsx)("div",{className:Z().shadow,style:a.style,children:(0,n.jsxs)(C.Z,{tip:"Import in progress",spinning:_,children:[(0,n.jsx)("div",{id:"left",className:Z().block_l,children:(0,n.jsx)(L,{title:o(a.taskCategory,"global")+o("project"),content:o("titleContent"),docUrl:"https://github.com/PaddleCV-SIG/PaddleLabel/blob/develop/doc/".concat((0,s.LV)(a.taskCategory),".md"),style:{height:760,padding:"1.25rem 0"},children:(0,n.jsxs)(h.Z,{form:E,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(r){console.log(r),le(r)},children:[(0,n.jsx)(h.Z.Item,{name:"name",label:o("projectName"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,n.jsx)(u.Z,{size:"large",placeholder:o("anyString","global"),style:{height:"3.13rem"}})}),(0,n.jsx)(h.Z.Item,{name:"dataDir",label:o("datasePath"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,n.jsx)(u.Z,{size:"large",placeholder:o("absolutePath","global"),style:{height:"3.13rem"},disabled:S!=null})}),(0,n.jsx)(h.Z.Item,{name:"description",label:o("description"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,n.jsx)(u.Z,{size:"large",placeholder:o("anyString","global"),style:{height:"3.13rem"}})}),(0,n.jsx)(h.Z.Item,{name:"labelFormat",label:o("labelFormat"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:s.ux[a.taskCategory].labelFormats!=null,message:"Please choose a label import/export format"}],style:{fontSize:"1.5rem",display:s.ux[a.taskCategory].labelFormats!=null?void 0:"none"},children:(0,n.jsx)(P.ZP.Group,{size:"large",style:{height:"3.13rem"},onChange:function(){U(E.getFieldValue("labelFormat")),s.bY.getStructure(oe[a.taskCategory][E.getFieldValue("labelFormat")]).then(function(r){te(r)})},children:Object.keys(s.ux[a.taskCategory].labelFormats).map(function(t){return(0,n.jsx)(P.ZP,{value:t,children:T((0,s.os)(t),"global.labelFormat")},t)})})}),(0,n.jsx)(h.Z.Item,{name:"segMaskType",label:o("segMaskType"),labelCol:{span:6},wrapperCol:{span:16},style:{fontSize:"1.5rem",display:ae=="mask"&&a.taskCategory=="semanticSegmentation"?void 0:"none"},children:(0,n.jsx)(P.ZP.Group,{size:"large",style:{height:"3.13rem"},children:["pesudo","grayscale"].map(function(t){return(0,n.jsx)(P.ZP,{value:t,children:T(t,"global.segMaskType")},t)})})}),(0,n.jsx)(h.Z.Item,{name:"maxPoints",label:o("maxPoints"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:a.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:a.taskCategory=="keypointDetection"?void 0:"none"},children:(0,n.jsx)(u.Z,{size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,n.jsxs)(h.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,n.jsx)(y.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:T(S?"update":"create")}),"\xA0\xA0",(0,n.jsx)(y.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){m.m8.goBack()},children:T("cancel")})]})]})})}),(0,n.jsx)("div",{id:"right",className:Z().block_r,children:(0,n.jsx)(L,{style:{height:"43.63rem",padding:"0.5rem 0"},children:ue()})})]})})},Y=$,H=e(11428),X=function(){(0,s.bo)();var a=(0,s.Ad)("pages.projectDetail"),g=M.Z.getQueryVariable("taskCategory");return console.log(g),g?g in s.ux?(0,n.jsx)(H.Z,{children:(0,n.jsx)(Y,{imgSrc:"./pics/illustration.jpg",taskCategory:g})}):(d.default.error(a("invalidTaskCategory")+" "+g),m.m8.push("/"),null):(d.default.error(a("noTaskCategory")),m.m8.push("/"),null)},w=X}}]);
