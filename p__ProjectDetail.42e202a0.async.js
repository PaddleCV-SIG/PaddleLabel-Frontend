(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[498],{91220:function(g,v,e){"use strict";e.d(v,{Z:function(){return d}});var S=e(64254);function d(l,u){var c;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(c=(0,S.Z)(l))||u&&l&&typeof l.length=="number"){c&&(l=c);var x=0,P=function(){};return{s:P,n:function(){return x>=l.length?{done:!0}:{done:!1,value:l[x++]}},e:function(i){throw i},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,I=!1,b;return{s:function(){c=l[Symbol.iterator]()},n:function(){var i=c.next();return p=i.done,i},e:function(i){I=!0,b=i},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(I)throw b}}}}},48627:function(g){g.exports={container:"container___2RXc3"}},18398:function(g){g.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},11428:function(g,v,e){"use strict";var S=e(67294),d=e(48627),l=e.n(d),u=e(85893),c=function(P){return(0,u.jsx)("div",{className:"".concat(l().container),style:{backgroundImage:"url(./pics/background.png)"},children:P.children})};v.Z=c},68370:function(g,v,e){"use strict";e.r(v),e.d(v,{default:function(){return $}});var S=e(34792),d=e(48086),l=e(67294),u=e(48971),c=e(20228),x=e(11382),P=e(57663),p=e(71577),I=e(88983),b=e(47933),h=e(47673),i=e(24044),ne=e(32157),R=e(82363),ae=e(9715),f=e(93766),F=e(2824),le=e(89032),B=e(15746),j=e(11849),re=e(13062),k=e(71230),T=e(1870),V=e(11700),U=e(18398),y=e.n(U),D=e(37071),o=e(15156),t=e(85893),A=function(a){return(0,t.jsxs)("div",{className:y()._ppcard,style:a.style,children:[(0,t.jsx)(k.Z,{className:y().titleRow,style:{display:a.title?void 0:"none"},children:(0,t.jsx)(V.Z,{className:y().title,children:a.title})}),(0,t.jsx)(k.Z,{style:{marginTop:26},children:(0,t.jsx)(B.Z,{span:24,style:(0,j.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},a.innerStyle),children:a.children})})]})},K=function(a){var m=(0,o.Gd)(l.useState),C=D.Z.getQueryVariable("projectId"),H=(0,l.useState)(!1),O=(0,F.Z)(H,2),J=O[0],L=O[1],X=(0,l.useState)([]),M=(0,F.Z)(X,2),N=M[0],Y=M[1],r=(0,o.Ad)("component.PPCreater"),w=function(s){L(!0),C?m.update(C,(0,j.Z)({},s)).then(function(){u.m8.push("/project_overview?projectId=".concat(C))}):m.create((0,j.Z)((0,j.Z)({},s),{},{taskCategoryId:o.ux[a.taskCategory].id})).catch(function(Z){d.default.error(r("creationFail")),D.Z.parseError(Z,d.default),L(!1)}).then(function(Z){Z&&u.m8.push("/".concat((0,o.LV)(a.taskCategory),"?projectId=").concat(Z.projectId))})},q=f.Z.useForm(),_=(0,F.Z)(q,1),E=_[0];(0,l.useEffect)(function(){m.getCurr(C).then(function(n){var s={name:n==null?void 0:n.name,description:n==null?void 0:n.description,dataDir:n==null?void 0:n.dataDir,labelDir:n==null?void 0:n.labelDir,labelFormat:n==null?void 0:n.labelFormat};console.log("values",s),E.setFieldsValue(s)})},[]);var ee={classification:{single_class:"clas/single/",multi_class:"clas/multi/"},detection:{coco:"det/coco/",voc:"det/voc/"},semanticSegmentation:{mask:"semantic_seg/mask/",polygon:"semantic_seg/polygon/"},instanceSegmentation:{mask:"instance_seg/mask/",polygon:"instance_seg/polygon/"}};function te(){if(N.length==0)return(0,t.jsx)("img",{src:a.imgSrc,style:{width:"40rem"}});var n=R.Z.DirectoryTree;return(0,t.jsx)("div",{children:(0,t.jsx)(n,{multiple:!0,defaultExpandAll:!0,treeData:N})})}return(0,t.jsx)("div",{className:y().shadow,style:a.style,children:(0,t.jsxs)(x.Z,{tip:"Import in progress",spinning:J,children:[(0,t.jsx)("div",{id:"left",className:y().block_l,children:(0,t.jsx)(A,{title:r(a.taskCategory,"global")+r("project"),style:{height:760,padding:"1.25rem 0"},children:(0,t.jsxs)(f.Z,{form:E,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(s){console.log(s),w(s)},children:[(0,t.jsx)(f.Z.Item,{name:"name",label:r("projectName"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(i.Z,{size:"large",placeholder:r("anyString","global"),style:{height:"3.13rem"}})}),(0,t.jsx)(f.Z.Item,{name:"dataDir",label:(0,t.jsxs)("div",{children:[r("datasePath")," ",(0,t.jsx)(T.Z,{style:{fontSize:"12px"},onClick:function(){return d.default.info({content:"The root directory of the dataset, where all images and labels are. Click here for more detail.",onClick:function(){return window.open("https://github.com/PaddleCV-SIG/PP-Label/blob/develop/doc/dataset_file_structure.md#".concat(a.taskCategory))}})}})]}),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(i.Z,{size:"large",placeholder:r("absolutePath","global"),style:{height:"3.13rem"},disabled:C!=null})}),(0,t.jsx)(f.Z.Item,{name:"description",label:r("description"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(i.Z,{size:"large",placeholder:r("anyString","global"),style:{height:"3.13rem"}})}),(0,t.jsx)(f.Z.Item,{name:"labelFormat",label:(0,t.jsxs)("div",{children:[r("labelFormat"),(0,t.jsx)(T.Z,{style:{fontSize:"12px"},onClick:function(){return d.default.info({content:"Choose the format to import/export dataset. Click here to see details.",onClick:function(){window.open("https://github.com/PaddleCV-SIG/PP-Label/blob/develop/doc/dataset_file_structure.md#".concat(a.taskCategory))}})}})]}),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:o.ux[a.taskCategory].labelFormats!=null,message:"Please choose a label import/export format"}],style:{fontSize:"1.5rem",display:o.ux[a.taskCategory].labelFormats!=null?void 0:"none"},children:(0,t.jsx)(b.ZP.Group,{size:"large",style:{height:"3.13rem"},onChange:function(){o.bY.getStructure(ee[a.taskCategory][E.getFieldValue("labelFormat")]).then(function(s){console.log("sample file structure",s),Y(s)})},children:Object.keys(o.ux[a.taskCategory].labelFormats).map(function(n){return(0,t.jsx)(b.ZP,{value:n,children:r((0,o.os)(n),"global.labelFormat")},n)})})}),(0,t.jsx)(f.Z.Item,{name:"maxPoints",label:r("maxPoints"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:a.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:a.taskCategory=="keypointDetection"?void 0:"none"},children:(0,t.jsx)(i.Z,{size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,t.jsxs)(f.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,t.jsx)(p.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:r(C?"update":"create")}),"\xA0\xA0",(0,t.jsx)(p.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){u.m8.goBack()},children:r("cancel")})]})]})})}),(0,t.jsx)("div",{id:"right",className:y().block_r,children:(0,t.jsx)(A,{style:{height:"43.63rem",padding:"0.5rem 0"},children:te()})})]})})},W=K,G=e(11428),Q=function(){(0,o.bo)();var a=(0,o.Ad)("pages.projectDetail"),m=D.Z.getQueryVariable("taskCategory");return console.log(m),m?m in o.ux?(0,t.jsx)(G.Z,{children:(0,t.jsx)(W,{imgSrc:"./pics/illustration.jpg",taskCategory:m})}):(d.default.error(a("invalidTaskCategory")+" "+m),u.m8.push("/"),null):(d.default.error(a("noTaskCategory")),u.m8.push("/"),null)},$=Q}}]);
