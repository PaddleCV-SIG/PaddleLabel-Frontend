(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[498],{91220:function(C,x,e){"use strict";e.d(x,{Z:function(){return m}});var D=e(64254);function m(l,f){var u;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(u=(0,D.Z)(l))||f&&l&&typeof l.length=="number"){u&&(l=u);var b=0,S=function(){};return{s:S,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(i){throw i},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z=!0,E=!1,h;return{s:function(){u=l[Symbol.iterator]()},n:function(){var i=u.next();return Z=i.done,i},e:function(i){E=!0,h=i},f:function(){try{!Z&&u.return!=null&&u.return()}finally{if(E)throw h}}}}},48627:function(C){C.exports={container:"container___2RXc3"}},18398:function(C){C.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},11428:function(C,x,e){"use strict";var D=e(67294),m=e(48627),l=e.n(m),f=e(85893),u=function(S){return(0,f.jsx)("div",{className:"".concat(l().container),style:{backgroundImage:"url(./pics/background.png)"},children:S.children})};x.Z=u},68370:function(C,x,e){"use strict";e.r(x),e.d(x,{default:function(){return w}});var D=e(34792),m=e(48086),l=e(67294),f=e(48971),u=e(20228),b=e(11382),S=e(57663),Z=e(71577),E=e(88983),h=e(47933),v=e(47673),i=e(24044),ue=e(32157),U=e(82363),ce=e(9715),g=e(93766),I=e(2824),me=e(89032),K=e(15746),j=e(11849),fe=e(13062),k=e(71230),W=e(1870),G=e(11700),Q=e(18398),P=e.n(Q),M=e(37071),s=e(15156),$=e(36505),a=e(85893),L=function(n){return(0,a.jsxs)("div",{className:P()._ppcard,style:n.style,children:[(0,a.jsxs)(k.Z,{className:P().titleRow,style:{display:n.title?void 0:"none"},children:[(0,a.jsx)(G.Z,{className:P().title,children:n.title}),(0,a.jsx)("div",{children:(0,a.jsx)(W.Z,{style:{fontSize:"12px"},onClick:function(){return m.default.info({content:n.content,onClick:function(){return window.open(n.docUrl)}})}})})]}),(0,a.jsx)(k.Z,{style:{marginTop:26},children:(0,a.jsx)(K.Z,{span:24,style:(0,j.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},n.innerStyle),children:n.children})})]})},J=function(n){var c=(0,s.Gd)(l.useState),y=M.Z.getQueryVariable("projectId"),q=(0,l.useState)(!1),A=(0,I.Z)(q,2),_=A[0],O=A[1],ee=(0,l.useState)([]),N=(0,I.Z)(ee,2),R=N[0],te=N[1],ae=(0,l.useState)(),V=(0,I.Z)(ae,2),ne=V[0],B=V[1],F=(0,$.I)("component.PPCreater"),o=(0,s.Ad)("component.PPCreater"),le=function(r){O(!0);var d={};r.segMaskType&&(d.segMaskType=r.segMaskType),y?c.update(y,(0,j.Z)((0,j.Z)({},r),{},{otherSettings:d})).then(function(){f.m8.push("/project_overview?projectId=".concat(y))}):c.create((0,j.Z)((0,j.Z)({},r),{},{taskCategoryId:s.ux[n.taskCategory].id,otherSettings:d})).catch(function(p){m.default.error(o("creationFail")),M.Z.parseError(p,m.default),O(!1)}).then(function(p){p&&f.m8.push("/".concat((0,s.LV)(n.taskCategory),"?projectId=").concat(p.projectId))})},re=g.Z.useForm(),se=(0,I.Z)(re,1),T=se[0];(0,l.useEffect)(function(){c.getCurr(y).then(function(t){var r,d={name:t==null?void 0:t.name,description:t==null?void 0:t.description,dataDir:t==null?void 0:t.dataDir,labelDir:t==null?void 0:t.labelDir,labelFormat:t==null?void 0:t.labelFormat,segMaskType:t==null||(r=t.otherSettings)===null||r===void 0?void 0:r.segMaskType};console.log("values",d),console.log("othersettings",t==null?void 0:t.otherSettings),t!=null&&t.labelFormat&&B(t.labelFormat),T.setFieldsValue(d)})},[]);var oe=U.Z.DirectoryTree,ie=function(r,d){console.log("Trigger Select",r,d,d.node.isLeaf!=null);var p=d.node.isLeaf!=null;p&&window.open("/api/samples/file?path="+d.node.key)};function de(){return R.length==0?(0,a.jsx)("img",{src:n.imgSrc,style:{width:"40rem"}}):(0,a.jsx)("div",{children:(0,a.jsx)(oe,{onSelect:ie,treeData:R,blockNode:!1})})}return(0,a.jsx)("div",{className:P().shadow,style:n.style,children:(0,a.jsxs)(b.Z,{tip:"Import in progress",spinning:_,children:[(0,a.jsx)("div",{id:"left",className:P().block_l,children:(0,a.jsx)(L,{title:o(n.taskCategory,"global")+o("project"),content:o("titleContent"),docUrl:"https://github.com/PaddleCV-SIG/PaddleLabel/blob/docs/doc/CN/project/".concat((0,s.LV)(n.taskCategory),".md"),style:{height:760,padding:"1.25rem 0"},children:(0,a.jsxs)(g.Z,{form:T,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(r){console.log(r),le(r)},children:[(0,a.jsx)(g.Z.Item,{name:"name",label:o("projectName"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,a.jsx)(i.Z,{autoComplete:"off",size:"large",placeholder:o("anyString","global"),style:{height:"3.13rem"}})}),(0,a.jsx)(g.Z.Item,{name:"dataDir",label:o("datasePath"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,a.jsx)(i.Z,{autoComplete:"off",size:"large",placeholder:o("absolutePath","global"),style:{height:"3.13rem"},disabled:y!=null})}),(0,a.jsx)(g.Z.Item,{name:"description",label:o("description"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,a.jsx)(i.Z,{autoComplete:"off",size:"large",placeholder:o("anyString","global"),style:{height:"3.13rem"}})}),(0,a.jsx)(g.Z.Item,{name:"labelFormat",label:o("labelFormat"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:s.ux[n.taskCategory].labelFormats!=null,message:"Please choose a label import/export format"}],style:{fontSize:"1.5rem",display:s.ux[n.taskCategory].labelFormats!=null?void 0:"none"},children:(0,a.jsx)(h.ZP.Group,{size:"large",style:{height:"3.13rem"},onChange:function(){B(T.getFieldValue("labelFormat")),s.bY.getStructure("sample/bear/".concat(n.taskCategory,"/").concat((0,s.os)(T.getFieldValue("labelFormat")),"/")).then(function(r){te(r)})},children:Object.keys(s.ux[n.taskCategory].labelFormats).map(function(t){return(0,a.jsx)(h.ZP,{value:t,children:F((0,s.os)(t),"global.labelFormat")},t)})})}),(0,a.jsx)(g.Z.Item,{name:"segMaskType",label:o("segMaskType"),labelCol:{span:6},wrapperCol:{span:16},style:{fontSize:"1.5rem",display:ne=="mask"&&n.taskCategory=="semanticSegmentation"?void 0:"none"},children:(0,a.jsx)(h.ZP.Group,{size:"large",style:{height:"3.13rem"},children:["pesudo","grayscale"].map(function(t){return(0,a.jsx)(h.ZP,{value:t,children:F(t,"global.segMaskType")},t)})})}),(0,a.jsx)(g.Z.Item,{name:"maxPoints",label:o("maxPoints"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:n.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:n.taskCategory=="keypointDetection"?void 0:"none"},children:(0,a.jsx)(i.Z,{autoComplete:"off",size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,a.jsxs)(g.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,a.jsx)(Z.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:F(y?"update":"create")}),"\xA0\xA0",(0,a.jsx)(Z.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){f.m8.goBack()},children:F("cancel")})]})]})})}),(0,a.jsx)("div",{id:"right",className:P().block_r,children:(0,a.jsx)(L,{style:{height:"43.63rem",padding:"0.5rem 0"},children:de()})})]})})},H=J,X=e(11428),Y=function(){(0,s.bo)();var n=(0,s.Ad)("pages.projectDetail"),c=M.Z.getQueryVariable("taskCategory");return console.log(c),c?c in s.ux?(0,a.jsx)(X.Z,{children:(0,a.jsx)(H,{imgSrc:"./pics/illustration.jpg",taskCategory:c})}):(m.default.error(n("invalidTaskCategory")+" "+c),f.m8.push("/"),null):(m.default.error(n("noTaskCategory")),f.m8.push("/"),null)},w=Y}}]);
