(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[333],{26647:function(f){f.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},52822:function(f){f.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},32495:function(f){f.exports={listItem:"listItem___1MXXF",eye:"eye___3nddM",delete:"delete___y9u-D",roundBall:"roundBall___DMczd",popover:"popover___E0HLD",annotationId:"annotationId___1ks8N",labelName:"labelName___130ie",listItemActive:"listItemActive___1rNB-"}},38670:function(f){f.exports={labelList:"labelList___3uLRO",listHeader:"listHeader___1ZPcO",eye:"eye___2yUvw",roundBall:"roundBall___1xKCU"}},5882:function(f){f.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",delete:"delete___WHPf2",listItemActive:"listItemActive___3FRb7"}},56131:function(f){f.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(f){f.exports={container:"container___G0FNe"}},80961:function(f){f.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(f){f.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28",toolBarButtonContainerWrapperDisabled:"toolBarButtonContainerWrapperDisabled___39n5R",toolBarButtonImgDisabled:"toolBarButtonImgDisabled___rRnhA"}},72869:function(f){f.exports={map:"map___92VPN",customControlIcon:"customControlIcon___3Ki2y"}},20474:function(f){f.exports={RSPop1:"RSPop1___vz5Me",RSPop2:"RSPop2___34pQA"}},87610:function(f){f.exports={RSPop1:"RSPop1___1iBEf",RSPop2:"RSPop2___1W841",RSPop3:"RSPop3___1Whcp"}},55252:function(f){f.exports={RSPop1:"RSPop1___17x8k",RSPop2:"RSPop2___27kK5"}},75513:function(f){f.exports={segment:"segment___3WmPw",mainStage:"mainStage___2kT1s",draw:"draw___Ff0QW",pblock:"pblock___3sGxC",progress:"progress___KQyBx",rightSideBar:"rightSideBar___11FX3",determinOutline:"determinOutline___1g1YI"}},57719:function(){},27992:function(f,L,e){"use strict";var X=e(20136),g=e(55241),y=e(13062),C=e(71230),D=e(77883),n=e(70507),_=e(89032),d=e(15746),h=e(66126),m=e(75454),u=e(2824),x=e(67294),N=e(61541),v=e(26647),r=e.n(v),E=e(85893),W=0,O=100,ae=10,ie=function(P){var R=(0,x.useState)(c(P.size)),K=(0,u.Z)(R,2),T=K[0],l=K[1];function i(M){l(c(M))}var U=P.step?P.step:10,s=P.minSize==null?W:P.minSize,p=P.maxSize==null?O:P.maxSize;function c(M){return M==null?ae:M<=s?s:M>=p?p:M}return(0,x.useEffect)(function(){i(P.size)},[P.size]),(0,E.jsxs)(g.Z,{overlayClassName:"".concat(r().popover," ").concat(P.disLoc=="left"?r().popoverLeft:""),placement:P.disLoc||"right",content:(0,E.jsxs)(C.Z,{children:[(0,E.jsx)(d.Z,{span:16,children:(0,E.jsx)(m.Z,{className:r().slider,value:T,max:p,min:s,onChange:function(A){var B;(B=P.onChange)===null||B===void 0||B.call(0,A)},tooltipVisible:!1})}),(0,E.jsx)(d.Z,{span:8,children:(0,E.jsx)(n.Z,{min:s,max:p,value:T,onChange:function(A){var B;(B=P.onChange)===null||B===void 0||B.call(0,A)},step:U})})]}),trigger:"hover",visible:P.disabled?!1:void 0,children:[" ",(0,E.jsx)(N.Z,{imgSrc:P.imgSrc||"",onClick:!P.disabled&&P.onClick||void 0,active:P.active,disabled:P.disabled,children:P.children})]})};L.Z=ie},63097:function(f,L,e){"use strict";var X=e(20136),g=e(55241),y=e(2824),C=e(67294),D=e(52822),n=e.n(D),_=e(63144),d=e(85893),h=function(u){var x=(0,C.useState)(u.color||"#FFF"),N=(0,y.Z)(x,2),v=N[0],r=N[1];return(0,C.useEffect)(function(){r(u.color||"#FFF")},[u]),u.changeable?(0,d.jsx)(g.Z,{getPopupContainer:function(W){return W.parentElement||document.body},overlayClassName:n().popover,openClassName:n().popoverOpenClassName,placement:"bottom",content:(0,d.jsx)(_.xS,{disableAlpha:!0,color:v,onChange:function(W){r(W.hex)},onChangeComplete:u.onChange}),trigger:"click",children:(0,d.jsx)("div",{className:n().roundBall,style:{backgroundColor:v}})}):(0,d.jsx)("div",{className:n().roundBall,style:{backgroundColor:v}})};L.Z=h},51327:function(f,L,e){"use strict";e.d(L,{Z:function(){return ae}});var X=e(54421),g=e(38272),y=e(57663),C=e(71577),D=e(67294),n=e(38670),_=e.n(n),d=e(49111),h=e(19650),m=e(11849),u=e(32495),x=e.n(u),N=e(63097),v=e(85893),r=function(o){var P=(0,m.Z)({},o.annotation),R=!1,K=(0,v.jsxs)(g.ZP.Item,{className:"".concat(x().listItem," ").concat(o.active?x().listItemActive:""),unselectable:"on",onClick:function(){console.log("click List.Item"),o.onClick(P)},children:[(0,v.jsxs)(h.Z,{align:"center",size:5,children:[(0,v.jsx)("a",{className:x().eye,style:{backgroundImage:R?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(l){l.stopPropagation(),o.onAnnotationModify(P)}})," ",(0,v.jsx)("span",{className:x().annotationId,children:P.properties.annotationId}),(0,v.jsx)("span",{className:x().labelName,children:P.properties.labelName}),(0,v.jsx)(N.Z,{color:P.properties.stroke})]}),(0,v.jsx)("a",{className:x().delete,onClick:function(l){console.log("click List.Item.delete"),l.stopPropagation(),o.onAnnotationDelete(P)}})]});return K},E=r,W=e(48971),O=function(o){var P=(0,W.YB)(),R=P.formatMessage({id:"component.PPAnnotationList.annotationList"}),K=P.formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g.ZP,{className:_().labelList,size:"large",header:(0,v.jsx)("div",{className:_().listHeader,children:R}),bordered:!0,dataSource:o.annotations.features,renderItem:function(l){return(0,v.jsx)(E,{onClick:o.onAnnotationSelect,annotation:l,active:!1,onAnnotationDelete:o.onAnnotationDelete,onAnnotationModify:o.onAnnotationModify})},footer:(0,v.jsx)("div",{children:(0,v.jsx)(C.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){o.onAnnotationSelect(void 0)},block:!0,children:K})})})})},ae=O},5041:function(f,L,e){"use strict";e.d(L,{Z:function(){return s}});var X=e(54421),g=e(38272),y=e(57663),C=e(71577),D=e(2824),n=e(67294),_=e(56131),d=e.n(_),h=e(49111),m=e(19650),u=e(11849),x=e(5882),N=e.n(x),v=e(63097),r=e(85893),E=function(c){var M=(0,u.Z)({},c.label),A=(0,n.useState)(M.invisible),B=(0,D.Z)(A,2),F=B[0],z=B[1],t=(0,n.useState)(0),oe=(0,D.Z)(t,2),Z=oe[0],re=oe[1],V=c.hideEye?" ":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{className:N().eye,style:{backgroundImage:F?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(ee){ee.stopPropagation(),z(!F),c.onLabelModify(M)}})," "]}),G=c.hideColorPicker?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(v.Z,{color:M.color,changeable:!1,onChange:function(ee){M.color=ee.hex,c.onLabelModify(M)}}),ce=(0,r.jsxs)(g.ZP.Item,{className:"".concat(N().listItem," ").concat(c.active?N().listItemActive:""),unselectable:"on",onClick:function(){c.onClick(M)},children:[(0,r.jsxs)(m.Z,{align:"center",size:5,children:[V,M.name,G]}),(0,r.jsx)("a",{className:N().delete,onClick:function(ee){ee.stopPropagation();var me=new Date().getTime();me-Z<300||(re(me),c.onLabelDelete(M))}})]});return ce},W=E,O=e(71194),ae=e(50146),ie=e(47673),o=e(24044),P=e(9715),R=e(93766),K=e(48971),T=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],l=function(c){var M,A,B=(0,K.YB)(),F=B.formatMessage({id:"component.PPAddLabelModal.selectColor"}),z=B.formatMessage({id:"component.PPAddLabelModal.addLabel"}),t=B.formatMessage({id:"component.PPAddLabelModal.labelName"}),oe=B.formatMessage({id:"component.PPCreater.cancel"}),Z=B.formatMessage({id:"component.PPSegMode.ok"}),re=(0,n.useState)(((M=c.defaultLabel)===null||M===void 0?void 0:M.color)||T[c.order||0]),V=(0,D.Z)(re,2),G=V[0],ce=V[1];(0,n.useEffect)(function(){var te;ce(((te=c.defaultLabel)===null||te===void 0?void 0:te.color)||T[c.order||0])},[c]);var de=c.hideColorPicker?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(R.Z.Item,{label:F,name:"color",children:(0,r.jsx)(v.Z,{color:G,changeable:!0,onChange:function(ve){ce(ve.hex)}})}),ee=R.Z.useForm(),me=(0,D.Z)(ee,1),$=me[0];return(0,r.jsx)(ae.Z,{title:z,visible:c.visible,onCancel:c.onCancel,footer:null,children:(0,r.jsxs)(R.Z,{form:$,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(A=c.defaultLabel)===null||A===void 0?void 0:A.name},onFinish:function(ve){var Ie={name:ve.labelname,color:G};c.onLabelAdd(Ie),$.resetFields()},autoComplete:"off",children:[(0,r.jsx)(R.Z.Item,{label:t,name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,r.jsx)(o.Z,{})}),de,(0,r.jsx)(R.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(C.Z,{onClick:function(){var ve;(ve=c.onCancel)===null||ve===void 0||ve.call(0),$.resetFields()},children:oe}),(0,r.jsx)(C.Z,{type:"primary",htmlType:"submit",children:Z})]})})]})})},i=l,U=function(c){var M,A=(0,K.YB)(),B=A.formatMessage({id:"component.PPLabelList.addLabel"}),F=A.formatMessage({id:"component.PPLabelList.labelList"}),z=(0,n.useState)(!1),t=(0,D.Z)(z,2),oe=t[0],Z=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.ZP,{className:d().labelList,size:"large",header:(0,r.jsx)("div",{className:d().listHeader,children:F}),footer:(0,r.jsx)("div",{children:(0,r.jsx)(C.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){Z(!0)},block:!0,children:B})}),bordered:!0,dataSource:c.labels,renderItem:function(V){var G;return(0,r.jsx)(W,{hideColorPicker:c.hideColorPicker,hideEye:c.hideEye,onClick:c.onLabelSelect,label:V,active:(G=c.activeIds)===null||G===void 0?void 0:G.has(V.labelId),onLabelDelete:c.onLabelDelete,onLabelModify:c.onLabelModify})}}),(0,r.jsx)(i,{hideColorPicker:c.hideColorPicker,order:(M=c.labels)===null||M===void 0?void 0:M.length,visible:oe,onLabelAdd:function(V){c.onLabelAdd(V),Z(!1)},onCancel:function(){Z(!1)}})]})},s=U},8088:function(f,L,e){"use strict";var X=e(67294),g=e(78677),y=e.n(g),C=e(85893),D=function(_){return(0,C.jsx)("div",{className:"".concat(y().container," ").concat(_.className),children:_.children})};L.Z=D},44434:function(f,L,e){"use strict";var X=e(67294),g=e(80961),y=e.n(g),C=e(85893),D=function(_){var d=y().leftToolbar;return _.disLoc=="right"&&(d=y().rightToolbar),(0,C.jsx)("div",{className:d,children:_.children})};L.Z=D},61541:function(f,L,e){"use strict";var X=e(49111),g=e(19650),y=e(67294),C=e(82499),D=e.n(C),n=e(85893),_=function(h){return(0,n.jsx)("div",{unselectable:"on",className:"".concat(D().toolBarButtonContainerWrapper," ").concat(h.active&&D().toolBarButtonContainerWrapperActive," ").concat(h.disabled&&D().toolBarButtonContainerWrapperDisabled),onClick:!h.disabled&&h.onClick||void 0,children:(0,n.jsx)(g.Z,{align:"center",className:D().toolBarButtonContainer,size:0,children:(0,n.jsxs)(g.Z,{align:"center",direction:"vertical",className:D().toolBarButton,size:0,children:[(0,n.jsx)("img",{className:h.disabled?D().toolBarButtonImgDisabled:void 0,src:h.imgSrc}),(0,n.jsx)("div",{className:D().buttonText,children:h.children})]})})})};L.Z=_},37233:function(f,L,e){"use strict";e.d(L,{Z:function(){return E}});var X=e(67294),g=e(11849),y=e(93224),C=e(41004),D=e(72869),n=e.n(D),_=e(74607),d=e(85893),h=function(O){var ae=O.children,ie=O.leafletMapRef,o=O.displayTools,P=(0,y.Z)(O,["children","leafletMapRef","displayTools"]);return X.useEffect(function(){if(ie.current){var R=ie.current.leafletElement;R.pm.addControls({drawMarker:!1,drawCircle:!1,drawCircleMarker:!1,drawPolyline:!1,drawRectangle:!1,drawPolygon:!1,editMode:!1,dragMode:!1,cutPolygon:!0,rotateMode:!1,removalMode:!1}),R.pm.setGlobalOptions({pmIgnore:!1}),O.displayTools&&R.pm.Toolbar.createCustomControl({name:"StoreShapes",title:"Store all shapes",block:"custom",className:n().customControlIcon,toggle:!1,afterClick:function(){var T=JSON.stringify(R.pm.getGeomanDrawLayers(!0).toGeoJSON()),l="data.geojson",i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(T)),i.setAttribute("download",l),i.style.display="none",document.body.appendChild(i),i.click(),console.log(T)}}),R.on("pm:create",function(K){O.onShapeCreate(K)}),R.on("pm:edit",function(K){O.onShapeEdit(K)})}},[]),(0,d.jsx)(C.Z,(0,g.Z)((0,g.Z)({ref:ie},P),{},{children:ae}))},m=h,u=e(88014),x=e(16072),N=e(18836),v={lat:0,lng:0,zoom:2},r=function(O){var ae=[v.lat,v.lng];return(0,d.jsx)(m,{leafletMapRef:O.leafletMapRef,displayTools:O.displayTools,className:n().map,center:ae,zoom:v.zoom,onShapeCreate:O.onShapeCreate,onShapeEdit:O.onShapeEdit,zoomControl:!1,children:(0,d.jsxs)(u.Z,{position:"topright",children:[(0,d.jsx)(u.Z.BaseLayer,{checked:!0,name:"TianDiTu.Vector",children:(0,d.jsxs)(x.Z,{attribution:'\xA9 <a href="https://www.tianditu.gov.cn/">TianDiTu</a> GS(2021)3715',children:[(0,d.jsx)(N.Z,{url:"https://t2.tianditu.gov.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk=8e879a4cad078fd3ce7456f2737fc4cc"}),(0,d.jsx)(N.Z,{url:"https://t2.tianditu.gov.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk=8e879a4cad078fd3ce7456f2737fc4cc"})]})}),(0,d.jsx)(u.Z.Overlay,{name:"Esri.WorldImagery",children:(0,d.jsx)(N.Z,{attribution:"Tiles \xA9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})})]})})},E=r},49813:function(f,L,e){"use strict";var X=e(47673),g=e(24044),y=e(13062),C=e(71230),D=e(59250),n=e(13013),_=e(57663),d=e(71577),h=e(89032),m=e(15746),u=e(30887),x=e(54689),N=e(34792),v=e(48086),r=e(89366),E=e(57254),W=e(20474),O=e.n(W),ae=e(67294),ie=e(48971),o=e(85893);function P(T){v.default.info("Click on menu item."),console.log("click",T)}var R=(0,o.jsxs)(x.Z,{onClick:P,children:[(0,o.jsx)(x.Z.Item,{icon:(0,o.jsx)(r.Z,{}),children:"1st menu item"},"1"),(0,o.jsx)(x.Z.Item,{icon:(0,o.jsx)(r.Z,{}),children:"2nd menu item"},"2"),(0,o.jsx)(x.Z.Item,{icon:(0,o.jsx)(r.Z,{}),children:"3rd menu item"},"3")]}),K=function(){var l=(0,ie.YB)(),i=l.formatMessage({id:"component.PPRS.pdParameter"}),U=l.formatMessage({id:"component.PPRS.simplifiedDistance"}),s=l.formatMessage({id:"component.PPRS.simplifiedAngle"}),p=l.formatMessage({id:"component.PPRS.threshold"});return(0,o.jsxs)("div",{children:[(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(m.Z,{span:12,className:O().RSPop1,children:(0,o.jsx)("span",{children:i})}),(0,o.jsx)(m.Z,{span:12,className:O().RSPop2,children:(0,o.jsx)(n.Z,{overlay:R,children:(0,o.jsxs)(d.Z,{style:{width:"100%"},children:["Dropdown ",(0,o.jsx)(E.Z,{})]})})})]}),(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(m.Z,{span:12,className:O().RSPop1,children:(0,o.jsx)("span",{children:U})}),(0,o.jsx)(m.Z,{span:12,className:O().RSPop2,children:(0,o.jsx)(g.Z,{placeholder:"Basic usage"})})]}),(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(m.Z,{span:12,className:O().RSPop1,children:(0,o.jsx)("span",{children:s})}),(0,o.jsx)(m.Z,{span:12,className:O().RSPop2,children:(0,o.jsx)(g.Z,{placeholder:"Basic usage"})})]}),(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(m.Z,{span:12,className:O().RSPop1,children:(0,o.jsx)("span",{children:p})}),(0,o.jsx)(m.Z,{span:12,className:O().RSPop2,children:(0,o.jsx)(g.Z,{placeholder:"Basic usage"})})]})]})};L.Z=K},97927:function(f,L,e){"use strict";var X=e(13062),g=e(71230),y=e(47673),C=e(24044),D=e(89032),n=e(15746),_=e(87610),d=e.n(_),h=e(67294),m=e(48971),u=e(85893),x=function(){var v=(0,m.YB)(),r=v.formatMessage({id:"component.PPRS.gridSize"}),E=v.formatMessage({id:"component.PPRS.overlap"}),W=v.formatMessage({id:"component.PPRS.completed"},{show:1,total:16});return(0,u.jsxs)("div",{children:[(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(n.Z,{span:12,className:d().RSPop1,children:(0,u.jsx)("span",{children:r})}),(0,u.jsx)(n.Z,{span:12,className:d().RSPop2,children:(0,u.jsx)(C.Z,{placeholder:"Basic usage"})})]}),(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(n.Z,{span:12,className:d().RSPop1,children:(0,u.jsx)("span",{children:E})}),(0,u.jsx)(n.Z,{span:12,className:d().RSPop2,children:(0,u.jsx)(C.Z,{placeholder:"Basic usage"})})]}),(0,u.jsx)(g.Z,{children:(0,u.jsx)("span",{className:d().RSPop3,children:W})})]})};L.Z=x},91861:function(f,L,e){"use strict";e.d(L,{Ad:function(){return C},k3:function(){return D},Vd:function(){return n},td:function(){return _}});var X=e(34792),g=e(48086),y=40;function C(){localStorage.removeItem("history"),D([])}function D(d){var h=localStorage.getItem("history"),m=h?JSON.parse(h):{index:-1,items:[]};if(JSON.stringify(m.items[m.index])!=JSON.stringify(d)){var u=m.index>y?m.index-y:0,x=m.items.splice(u,m.index==0?1:m.index+1);m.items=x.concat([d]),m.index<=y?m.index++:m.index=y+1,localStorage.setItem("history",JSON.stringify(m))}}function n(){var d=localStorage.getItem("history");if(!!d){var h=JSON.parse(d);if(!!h){if(h.index>=h.items.length-1){g.default.error("No next history!");return}return h.index++,localStorage.setItem("history",JSON.stringify(h)),h.items[h.index]}}}function _(){var d=localStorage.getItem("history");if(!!d){var h=JSON.parse(d);if(console.log("history",h),!h||!h.index||h.index<=1){g.default.error("No previous history!");return}return h.index--,localStorage.setItem("history",JSON.stringify(h)),h.items[h.index]}}},47712:function(f,L,e){"use strict";e.r(L),e.d(L,{default:function(){return be}});var X=e(34669),g=e(54458),y=e(20136),C=e(55241),D=e(49111),n=e(19650),_=e(62350),d=e(75443),h=e(57663),m=e(71577),u=e(2824),x=e(67294),N=e(75513),v=e.n(N),r=e(8088),E=e(61541),W=e(44434),O=e(5041),ae=e(49813),ie=e(98858),o=e(4914),P=e(13062),R=e(71230),K=e(59250),T=e(13013),l=e(89032),i=e(15746),U=e(30887),s=e(54689),p=e(34792),c=e(48086),M=e(89366),A=e(57254),B=e(55252),F=e.n(B),z=e(48971),t=e(85893);function oe(I){c.default.info("Click on menu item."),console.log("click",I)}var Z=(0,t.jsxs)(s.Z,{onClick:oe,children:[(0,t.jsx)(s.Z.Item,{icon:(0,t.jsx)(M.Z,{}),children:"band_1"},"1"),(0,t.jsx)(s.Z.Item,{icon:(0,t.jsx)(M.Z,{}),children:"band_2"},"2"),(0,t.jsx)(s.Z.Item,{icon:(0,t.jsx)(M.Z,{}),children:"band_3"},"3")]}),re=function(){var H=(0,z.YB)(),Q=H.formatMessage({id:"component.PPRS.r"}),k=H.formatMessage({id:"component.PPRS.g"}),De=H.formatMessage({id:"component.PPRS.b"}),Se=H.formatMessage({id:"component.PPRS.dataInformation"}),pe=H.formatMessage({id:"component.PPRS.fileName"}),Oe=H.formatMessage({id:"component.PPRS.row"}),ne=H.formatMessage({id:"component.PPRS.column"}),le=H.formatMessage({id:"component.PPRS.bands"}),ge=H.formatMessage({id:"component.PPRS.dataType"}),je=H.formatMessage({id:"component.PPRS.EPSG"}),Ee=H.formatMessage({id:"component.PPRS.unit"});return(0,t.jsxs)("div",{children:[(0,t.jsxs)(R.Z,{children:[(0,t.jsx)(i.Z,{className:F().RSPop1,children:(0,t.jsx)("span",{children:Q})}),(0,t.jsx)(i.Z,{className:F().RSPop2,children:(0,t.jsx)(T.Z,{overlay:Z,children:(0,t.jsxs)(m.Z,{style:{width:"100%"},children:["Band ",(0,t.jsx)(A.Z,{})]})})}),(0,t.jsx)(i.Z,{className:F().RSPop1,children:(0,t.jsx)("span",{children:k})}),(0,t.jsx)(i.Z,{className:F().RSPop2,children:(0,t.jsx)(T.Z,{overlay:Z,children:(0,t.jsxs)(m.Z,{style:{width:"100%"},children:["Band ",(0,t.jsx)(A.Z,{})]})})}),(0,t.jsx)(i.Z,{className:F().RSPop1,children:(0,t.jsx)("span",{children:De})}),(0,t.jsx)(i.Z,{className:F().RSPop2,children:(0,t.jsx)(T.Z,{overlay:Z,children:(0,t.jsxs)(m.Z,{style:{width:"100%"},children:["Band ",(0,t.jsx)(A.Z,{})]})})})]}),(0,t.jsxs)(o.Z,{title:Se,column:1,bordered:!0,children:[(0,t.jsx)(o.Z.Item,{label:pe,children:"A/XXX.tif"}),(0,t.jsx)(o.Z.Item,{label:Oe,children:"1234"}),(0,t.jsx)(o.Z.Item,{label:ne,children:"897"}),(0,t.jsx)(o.Z.Item,{label:le,children:"7"}),(0,t.jsx)(o.Z.Item,{label:ge,children:"UInt16"}),(0,t.jsx)(o.Z.Item,{label:je,children:"7030"}),(0,t.jsx)(o.Z.Item,{label:Ee,children:"m"})]})]})},V=re,G=e(97927),ce=e(37233),de=e(51327),ee=e(11849);function me(I){var H=(0,x.useState)(0),Q=(0,u.Z)(H,2),k=Q[0],De=Q[1],Se=(0,x.useState)(!1),pe=(0,u.Z)(Se,2),Oe=pe[0],ne=pe[1];(0,x.useEffect)(function(){localStorage.setItem("currentLabel",JSON.stringify(I.currentLabel||{}))},[I.currentLabel]),(0,x.useEffect)(function(){localStorage.setItem("annotations",JSON.stringify(I.annotations||{}))},[I.annotations]);var le=function(){var a,j=(a=I.leafletMapRef.current)===null||a===void 0?void 0:a.leafletElement.pm.globalDrawModeEnabled();console.log(j)},ge=function(a){var j=localStorage.getItem("currentLabel");if(j!="{}"){var S,ue;ne(!0);var se=JSON.parse(j||"{}");(S=I.leafletMapRef.current)===null||S===void 0||S.leafletElement.pm.enableDraw(a),(ue=I.leafletMapRef.current)===null||ue===void 0||ue.leafletElement.pm.setPathOptions({color:se==null?void 0:se.color,fillColor:se==null?void 0:se.color,fillOpacity:.4})}else{var he;alert("Test"),(he=I.leafletMapRef.current)===null||he===void 0||he.leafletElement.pm.disableDraw(a),ne(!1)}},je=function(a){var j;(j=I.leafletMapRef.current)===null||j===void 0||j.leafletElement.pm.disableDraw(a),ne(!1),le()},Ee=function(){var a;return(a=I.leafletMapRef.current)===null||a===void 0?void 0:a.leafletElement.pm.Draw.getActiveShape()},Le=function(){if(Ee()=="Polygon"){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.pm.Draw.Polygon._removeLastVertex(),le()}else le(),ne(!1)},ye=function(){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.pm.toggleGlobalDragMode(),le()},Ne=function(){if(Ee()=="Polygon"){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.pm.Draw.Polygon._finishShape(),le(),ne(!1)}else le(),ne(!1)},We=function(){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.pm.enableGlobalRemovalMode(),le()},Re=function(){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.pm.toggleGlobalEditMode(),le(),ne(!1)},Be=function(){ne(!1)},Ae=function(a){var j=a.toGeoJSON(),S=JSON.parse(localStorage.getItem("currentLabel")||"{}");De(k+1),j.properties={labelName:S==null?void 0:S.name,stroke:S==null?void 0:S.color,annotationId:k+1};var ue=JSON.parse(localStorage.getItem("annotations")||"{}"),se=(0,ee.Z)((0,ee.Z)({},ue),{},{features:ue.features.concat(j)});console.log(se),I.setAnnotations(se),I.recordHistory(se)};function w(J){ne(!1),Ae(J.layer)}var Pe=function(a){console.log(a)},Me=function(){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.zoomIn(),le()},Ce=function(){var a;(a=I.leafletMapRef.current)===null||a===void 0||a.leafletElement.zoomOut(),le()};return{polyVisable:Oe,RSDraw:ge,RSDrawDisable:je,removeLastVertex:Le,moveShape:ye,finishShape:Ne,removeShape:We,editMode:Re,saveGeoJson:Be,storeOnDb:Ae,onShapeCreate:w,onShapeEdit:Pe,toolZoomIn:Me,toolZoomOut:Ce,currentShape:Ee}}var $=e(27992),te=e(91861),ve=e(15156),Ie=function(){var H=(0,ve.$L)(x.useState,x.useEffect,{label:{oneHot:!1},tool:{defaultTool:"mover"},effectTrigger:{}}),Q=(0,u.Z)(H,10),k=Q[0],De=Q[1],Se=Q[2],pe=Q[3],Oe=Q[4],ne=Q[5],le=Q[6],ge=Q[7],je=Q[8],Ee=Q[9],Le=(0,x.useState)(!1),ye=(0,u.Z)(Le,2),Ne=ye[0],We=ye[1],Re=(0,x.useState)(!1),Be=(0,u.Z)(Re,2),Ae=Be[0],w=Be[1],Pe=(0,x.useState)({type:"FeatureCollection",features:[]}),Me=(0,u.Z)(Pe,2),Ce=Me[0],J=Me[1];(0,x.useEffect)(function(){(0,te.Ad)()},[]),console.log("rs is re-rendering! label.curr: ".concat(JSON.stringify(ge.curr)));var a=x.useRef(null),j=me({leafletMapRef:a,currentLabel:ge.curr,setAnnotations:J,annotations:Ce,recordHistory:te.k3}),S=(0,z.YB)(),ue=S.formatMessage({id:"pages.Maps.finished"}),se=S.formatMessage({id:"pages.Maps.removeLastVertex"}),he=S.formatMessage({id:"pages.Maps.cancel"}),Ke=S.formatMessage({id:"pages.Maps.boundary"}),Te=S.formatMessage({id:"pages.Maps.remoteSensing"}),Ue=S.formatMessage({id:"pages.Maps.grids"}),Fe=S.formatMessage({id:"pages.toolBar.polygon"}),Ze=S.formatMessage({id:"pages.toolBar.rubber"}),ze=S.formatMessage({id:"pages.toolBar.zoomIn"}),q=S.formatMessage({id:"pages.toolBar.zoomOut"}),Y=S.formatMessage({id:"pages.toolBar.move"}),xe=S.formatMessage({id:"pages.toolBar.unDo"}),fe=S.formatMessage({id:"pages.toolBar.reDo"}),Ge=S.formatMessage({id:"pages.toolBar.save"}),Je=S.formatMessage({id:"pages.toolBar.edit"}),Ve=S.formatMessage({id:"pages.toolBar.clearMark"}),$e=S.formatMessage({id:"pages.toolBar.interactor"}),He=S.formatMessage({id:"pages.toolBar.segmentThreshold"}),Ye=S.formatMessage({id:"pages.toolBar.transparency"}),Xe=S.formatMessage({id:"pages.toolBar.visualRadius"}),Qe=S.formatMessage({id:"pages.toolBar.determineOutline"}),ke=S.formatMessage({id:"pages.toolBar.divideData"}),we=S.formatMessage({id:"pages.toolBar.export"});return(0,t.jsxs)(r.Z,{className:v().segment,children:[(0,t.jsxs)(W.Z,{children:[(0,t.jsx)(C.Z,{placement:"rightTop",visible:j.polyVisable,content:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(n.Z,{children:[(0,t.jsx)(m.Z,{type:"primary",onClick:function(){j.finishShape()},children:ue}),(0,t.jsx)(m.Z,{type:"primary",onClick:function(){j.removeLastVertex()},children:se}),(0,t.jsx)(d.Z,{title:"Are you sure cancel this task?",okText:"Yes",cancelText:"No",children:(0,t.jsx)(m.Z,{type:"primary",onClick:function(){j.RSDrawDisable(j.currentShape())},children:he})})]})}),trigger:k.curr=="Polygon"?"hover":"click",children:(0,t.jsx)(E.Z,{active:k.curr=="Polygon",imgSrc:"./pics/buttons/polygon.png",onClick:function(){k.setCurr("Polygon"),j.RSDraw("Polygon")},children:Fe})}),(0,t.jsx)(E.Z,{onClick:function(){j.editMode()},imgSrc:"./pics/buttons/edit.png",children:Je}),(0,t.jsxs)(C.Z,{placement:"rightTop",title:"title",content:"content",trigger:k.curr=="rubber"?"hover":"click",children:[" ",(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/rubber.png",onClick:function(){j.removeShape()},children:Ze})]}),(0,t.jsx)(E.Z,{onClick:function(){j.toolZoomIn()},imgSrc:"./pics/buttons/zoom_in.png",children:ze}),(0,t.jsx)(E.Z,{onClick:function(){j.toolZoomOut()},imgSrc:"./pics/buttons/zoom_out.png",children:q}),(0,t.jsx)(E.Z,{onClick:function(){j.saveGeoJson()},imgSrc:"./pics/buttons/save.png",children:Ge}),(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/move.png",onClick:function(){return j.moveShape()},children:Y}),(0,t.jsx)(E.Z,{onClick:function(){var _e=(0,te.td)()},imgSrc:"./pics/buttons/prev.png",children:xe}),(0,t.jsx)(E.Z,{onClick:function(){var _e=(0,te.Vd)()},imgSrc:"./pics/buttons/next.png",children:fe}),(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Ve})]}),(0,t.jsxs)("div",{className:v().mainStage,children:[(0,t.jsx)("div",{className:v().draw,children:(0,t.jsx)(ce.Z,{leafletMapRef:a,onShapeCreate:j.onShapeCreate,onShapeEdit:j.onShapeEdit})}),(0,t.jsx)("div",{className:v().pblock,children:(0,t.jsx)("div",{className:v().progress,children:(0,t.jsx)(g.Z,{percent:50,status:"active"})})})]}),(0,t.jsxs)(W.Z,{disLoc:"right",children:[(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:$e}),(0,t.jsx)($.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:He}),(0,t.jsx)($.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",children:Ye}),(0,t.jsx)($.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:Xe}),(0,t.jsxs)(C.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of boundary simplification",content:(0,t.jsx)(ae.Z,{}),trigger:k.curr=="boundry"?"click":"hover",children:[" ",(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/border_simplify.png",onClick:function(){k.setCurr("boundry")},children:Ke})]}),(0,t.jsxs)(C.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of remote sensing",content:(0,t.jsx)(V,{}),trigger:k.curr=="colorgun"?"click":"hover",children:[" ",(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/remote_sensing_setting.png",onClick:function(){k.setCurr("colorgun")},children:Te})]}),(0,t.jsxs)(C.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Switch grids",content:(0,t.jsx)(G.Z,{}),trigger:k.curr=="grid"?"click":"hover",children:[" ",(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/switch_grid.png",onClick:function(){k.setCurr("grid")},children:Ue})]}),(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/data_division.png",children:ke}),(0,t.jsx)(E.Z,{imgSrc:"./pics/buttons/export.png",children:we})]}),(0,t.jsxs)("div",{className:v().rightSideBar,children:[(0,t.jsx)("div",{className:v().determinOutline,children:(0,t.jsx)(m.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,children:Qe})}),(0,t.jsx)(O.Z,{selectedLabel:ge.curr,onLabelSelect:function(_e){ge.setCurr(_e),console.log(_e)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,t.jsx)(de.Z,{annotations:Ce,onAnnotationSelect:function(){},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(){}})]})]})},be=Ie},38272:function(f,L,e){"use strict";e.d(L,{ZM:function(){return P},ZP:function(){return T}});var X=e(85061),g=e(22122),y=e(96156),C=e(28481),D=e(90484),n=e(67294),_=e(94184),d=e.n(_),h=e(11382),m=e(25378),u=e(24308),x=e(65632),N=e(40308),v=e(92820),r=e(21584),E=e(96159),W=function(l,i){var U={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&i.indexOf(s)<0&&(U[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,s=Object.getOwnPropertySymbols(l);p<s.length;p++)i.indexOf(s[p])<0&&Object.prototype.propertyIsEnumerable.call(l,s[p])&&(U[s[p]]=l[s[p]]);return U},O=function(i){var U=i.prefixCls,s=i.className,p=i.avatar,c=i.title,M=i.description,A=W(i,["prefixCls","className","avatar","title","description"]),B=n.useContext(x.E_),F=B.getPrefixCls,z=F("list",U),t=d()("".concat(z,"-item-meta"),s),oe=n.createElement("div",{className:"".concat(z,"-item-meta-content")},c&&n.createElement("h4",{className:"".concat(z,"-item-meta-title")},c),M&&n.createElement("div",{className:"".concat(z,"-item-meta-description")},M));return n.createElement("div",(0,g.Z)({},A,{className:t}),p&&n.createElement("div",{className:"".concat(z,"-item-meta-avatar")},p),(c||M)&&oe)},ae=function(i){var U=i.prefixCls,s=i.children,p=i.actions,c=i.extra,M=i.className,A=i.colStyle,B=W(i,["prefixCls","children","actions","extra","className","colStyle"]),F=n.useContext(P),z=F.grid,t=F.itemLayout,oe=n.useContext(x.E_),Z=oe.getPrefixCls,re=function(){var $;return n.Children.forEach(s,function(te){typeof te=="string"&&($=!0)}),$&&n.Children.count(s)>1},V=function(){return t==="vertical"?!!c:!re()},G=Z("list",U),ce=p&&p.length>0&&n.createElement("ul",{className:"".concat(G,"-item-action"),key:"actions"},p.map(function(me,$){return n.createElement("li",{key:"".concat(G,"-item-action-").concat($)},me,$!==p.length-1&&n.createElement("em",{className:"".concat(G,"-item-action-split")}))})),de=z?"div":"li",ee=n.createElement(de,(0,g.Z)({},B,{className:d()("".concat(G,"-item"),(0,y.Z)({},"".concat(G,"-item-no-flex"),!V()),M)}),t==="vertical"&&c?[n.createElement("div",{className:"".concat(G,"-item-main"),key:"content"},s,ce),n.createElement("div",{className:"".concat(G,"-item-extra"),key:"extra"},c)]:[s,ce,(0,E.Tm)(c,{key:"extra"})]);return z?n.createElement(r.Z,{flex:1,style:A},ee):ee};ae.Meta=O;var ie=ae,o=function(l,i){var U={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&i.indexOf(s)<0&&(U[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,s=Object.getOwnPropertySymbols(l);p<s.length;p++)i.indexOf(s[p])<0&&Object.prototype.propertyIsEnumerable.call(l,s[p])&&(U[s[p]]=l[s[p]]);return U},P=n.createContext({}),R=P.Consumer;function K(l){var i,U=l.pagination,s=U===void 0?!1:U,p=l.prefixCls,c=l.bordered,M=c===void 0?!1:c,A=l.split,B=A===void 0?!0:A,F=l.className,z=l.children,t=l.itemLayout,oe=l.loadMore,Z=l.grid,re=l.dataSource,V=re===void 0?[]:re,G=l.size,ce=l.header,de=l.footer,ee=l.loading,me=ee===void 0?!1:ee,$=l.rowKey,te=l.renderItem,ve=l.locale,Ie=o(l,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),be=s&&(0,D.Z)(s)==="object"?s:{},I=n.useState(be.defaultCurrent||1),H=(0,C.Z)(I,2),Q=H[0],k=H[1],De=n.useState(be.defaultPageSize||10),Se=(0,C.Z)(De,2),pe=Se[0],Oe=Se[1],ne=n.useContext(x.E_),le=ne.getPrefixCls,ge=ne.renderEmpty,je=ne.direction,Ee={current:1,total:0},Le={},ye=function(Y){return function(xe,fe){k(xe),Oe(fe),s&&s[Y]&&s[Y](xe,fe)}},Ne=ye("onChange"),We=ye("onShowSizeChange"),Re=function(Y,xe){if(!te)return null;var fe;return typeof $=="function"?fe=$(Y):$?fe=Y[$]:fe=Y.key,fe||(fe="list-item-".concat(xe)),Le[xe]=fe,te(Y,xe)},Be=function(){return!!(oe||s||de)},Ae=function(Y,xe){return n.createElement("div",{className:"".concat(Y,"-empty-text")},ve&&ve.emptyText||xe("List"))},w=le("list",p),Pe=me;typeof Pe=="boolean"&&(Pe={spinning:Pe});var Me=Pe&&Pe.spinning,Ce="";switch(G){case"large":Ce="lg";break;case"small":Ce="sm";break;default:break}var J=d()(w,(i={},(0,y.Z)(i,"".concat(w,"-vertical"),t==="vertical"),(0,y.Z)(i,"".concat(w,"-").concat(Ce),Ce),(0,y.Z)(i,"".concat(w,"-split"),B),(0,y.Z)(i,"".concat(w,"-bordered"),M),(0,y.Z)(i,"".concat(w,"-loading"),Me),(0,y.Z)(i,"".concat(w,"-grid"),!!Z),(0,y.Z)(i,"".concat(w,"-something-after-last-item"),Be()),(0,y.Z)(i,"".concat(w,"-rtl"),je==="rtl"),i),F),a=(0,g.Z)((0,g.Z)((0,g.Z)({},Ee),{total:V.length,current:Q,pageSize:pe}),s||{}),j=Math.ceil(a.total/a.pageSize);a.current>j&&(a.current=j);var S=s?n.createElement("div",{className:"".concat(w,"-pagination")},n.createElement(N.Z,(0,g.Z)({},a,{onChange:Ne,onShowSizeChange:We}))):null,ue=(0,X.Z)(V);s&&V.length>(a.current-1)*a.pageSize&&(ue=(0,X.Z)(V).splice((a.current-1)*a.pageSize,a.pageSize));var se=(0,m.Z)(),he=n.useMemo(function(){for(var q=0;q<u.c4.length;q+=1){var Y=u.c4[q];if(se[Y])return Y}},[se]),Ke=n.useMemo(function(){if(!!Z){var q=he&&Z[he]?Z[he]:Z.column;if(q)return{width:"".concat(100/q,"%"),maxWidth:"".concat(100/q,"%")}}},[Z==null?void 0:Z.column,he]),Te=Me&&n.createElement("div",{style:{minHeight:53}});if(ue.length>0){var Ue=ue.map(function(q,Y){return Re(q,Y)}),Fe=n.Children.map(Ue,function(q,Y){return n.createElement("div",{key:Le[Y],style:Ke},q)});Te=Z?n.createElement(v.Z,{gutter:Z.gutter},Fe):n.createElement("ul",{className:"".concat(w,"-items")},Ue)}else!z&&!Me&&(Te=Ae(w,ge));var Ze=a.position||"bottom",ze=n.useMemo(function(){return{grid:Z,itemLayout:t}},[JSON.stringify(Z),t]);return n.createElement(P.Provider,{value:ze},n.createElement("div",(0,g.Z)({className:J},Ie),(Ze==="top"||Ze==="both")&&S,ce&&n.createElement("div",{className:"".concat(w,"-header")},ce),n.createElement(h.Z,Pe,Te,z),de&&n.createElement("div",{className:"".concat(w,"-footer")},de),oe||(Ze==="bottom"||Ze==="both")&&S))}K.Item=ie;var T=K},54421:function(f,L,e){"use strict";var X=e(38663),g=e.n(X),y=e(57719),C=e.n(y),D=e(13254),n=e(20228),_=e(14781),d=e(6999)}}]);
