(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[580],{91220:function(p,f,e){"use strict";e.d(f,{Z:function(){return m}});var D=e(64254);function m(s,u){var l;if(typeof Symbol=="undefined"||s[Symbol.iterator]==null){if(Array.isArray(s)||(l=(0,D.Z)(s))||u&&s&&typeof s.length=="number"){l&&(s=l);var E=0,a=function(){};return{s:a,n:function(){return E>=s.length?{done:!0}:{done:!1,value:s[E++]}},e:function(v){throw v},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,P=!1,n;return{s:function(){l=s[Symbol.iterator]()},n:function(){var v=l.next();return c=v.done,v},e:function(v){P=!0,n=v},f:function(){try{!c&&l.return!=null&&l.return()}finally{if(P)throw n}}}}},41435:function(p,f,e){"use strict";e.d(f,{Z:function(){return E}});var D=e(94663),m=e(80112);function s(a){return Function.toString.call(a).indexOf("[native code]")!==-1}var u=e(18597);function l(a,c,P){return(0,u.Z)()?l=Reflect.construct:l=function(_,v,i){var g=[null];g.push.apply(g,v);var y=Function.bind.apply(_,g),h=new y;return i&&(0,m.Z)(h,i.prototype),h},l.apply(null,arguments)}function E(a){var c=typeof Map=="function"?new Map:void 0;return E=function(n){if(n===null||!s(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c!="undefined"){if(c.has(n))return c.get(n);c.set(n,_)}function _(){return l(n,arguments,(0,D.Z)(this).constructor)}return _.prototype=Object.create(n.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),(0,m.Z)(_,n)},E(a)}},41180:function(p){p.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},48627:function(p){p.exports={container:"container___2RXc3"}},31982:function(p,f,e){"use strict";var D=e(89032),m=e(15746),s=e(11849),u=e(13062),l=e(71230),E=e(11700),a=e(67294),c=e(41180),P=e.n(c),n=e(85893),_=function(i){return(0,n.jsxs)("div",{className:P().ppcard,style:i.style,hidden:i.hidden,children:[(0,n.jsx)(l.Z,{className:P().titleRow,style:{display:i.title?void 0:"none"},children:(0,n.jsx)(E.Z,{className:P().title,children:i.title})}),(0,n.jsx)(l.Z,{style:{marginTop:26},children:(0,n.jsx)(m.Z,{span:24,style:(0,s.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},i.innerStyle),children:i.children})})]})};f.Z=_},11428:function(p,f,e){"use strict";var D=e(67294),m=e(48627),s=e.n(m),u=e(85893),l=function(a){return(0,u.jsx)("div",{className:"".concat(s().container),style:{backgroundImage:"url(./pics/background.png)"},children:a.children})};f.Z=l},30465:function(p,f,e){"use strict";e.r(f);var D=e(47673),m=e(24044),s=e(57663),u=e(71577),l=e(11849),E=e(34792),a=e(48086),c=e(3182),P=e(9715),n=e(93766),_=e(2824),v=e(43358),i=e(34041),g=e(94043),y=e.n(g),h=e(67294),b=e(48971),K=e(11428),L=e(31982),x=e(37071),S=e(15156),o=e(85893),F=function(){var I,U,C,t=(0,S.Gd)(h.useState),Z=x.Z.getQueryVariable("projectId"),j=(0,S.RZ)(h.useState),W=i.Z.Option,k=n.Z.useForm(),N=(0,_.Z)(k,1),B=N[0];(0,h.useEffect)(function(){function r(){return d.apply(this,arguments)}function d(){return d=(0,c.Z)(y().mark(function R(){var T,A,M;return y().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(t.getAll(),Z){O.next=4;break}return a.default.error("Machine Learning settings are specific to every project. Please choose a project first."),O.abrupt("return");case 4:return O.next=6,t.getCurr(Z);case 6:M=O.sent,M!=null&&(T=M.otherSettings)!==null&&T!==void 0&&T.mlBackendUrl&&j.setMlBackendUrl(M==null||(A=M.otherSettings)===null||A===void 0?void 0:A.mlBackendUrl);case 8:case"end":return O.stop()}},R)})),d.apply(this,arguments)}r()},[]),(0,h.useEffect)(function(){if(!!t.curr){var r=t.curr.otherSettings?t.curr.otherSettings:{},d=r.models&&r.perviousModel?r.models[r.perviousModel]:{},R={mlBackendUrl:r.mlBackendUrl,modelName:r.perviousModel,trainBatchSize:d.trainBatchSize};B.setFieldsValue(R),r!=null&&r.mlBackendUrl&&j.setMlBackendUrl(r.mlBackendUrl)}},[t.curr]);function $(){if(!t.curr){a.default.error("Please choose a project first!");return}var r=B.getFieldValue("mlBackendUrl");j.setMlBackendUrl(r);var d=(0,l.Z)((0,l.Z)({},t.curr.otherSettings),{},{mlBackendUrl:r});t.update(t.curr.projectId,{otherSettings:d})}function z(r){if(console.log("saveMlsettings",t.curr,r),!t.curr){a.default.error("Please select model first!");return}t.curr.otherSettings||(t.curr.otherSettings={});var d=t.curr.otherSettings.models?t.curr.otherSettings.models:{};d[r.modelName]=r,t.curr.otherSettings.mlBackendUrl=B.getFieldValue("mlBackendUrl"),t.curr.otherSettings.perviousModel=r.modelName,t.curr.otherSettings.models=d,t.update(t.curr.projectId,{otherSettings:t.curr.otherSettings}),a.default.info("Ml setting saved. Let's start trainig or inference!")}function V(){var r=t.curr.otherSettings;if(!r||!r.mlBackendUrl||!r.perviousModel){a.default.error("Please set and save ml settings first.");return}a.default.info("Running inference."),t.predict(t.curr.projectId,{mlBackendUrl:r.mlBackendUrl,model:r.perviousModel,sameServer:!1,createLabel:!0}).then(function(){a.default.info("Prediction Complete")})}return(0,o.jsxs)(K.Z,{children:[(0,o.jsxs)(L.Z,{children:["Project:",(0,o.jsx)(i.Z,{placeholder:"Select a project",onChange:function(d){return t.getCurr(d)},value:(I=t.curr)===null||I===void 0?void 0:I.projectId,children:(U=t.all)===null||U===void 0?void 0:U.map(function(r){return(0,o.jsx)(W,{value:r.projectId,children:r.name})})})]}),(0,o.jsxs)(L.Z,{hidden:t.curr==null,children:[(0,o.jsx)(u.Z,{type:"primary",onClick:V,children:"Run Inference"}),(0,o.jsx)(u.Z,{type:"primary",onClick:function(){console.log("pjid",t.curr.projectId),b.m8.push("/".concat(t.curr.taskCategory.name,"?projectId=").concat(t.curr.projectId))},children:"Label"}),(0,o.jsx)(u.Z,{type:"primary",onClick:function(){b.m8.push("/project_overview?projectId=".concat(t.curr.projectId))},children:"Project Overview"})]}),(0,o.jsx)(L.Z,{children:(0,o.jsxs)(n.Z,{form:B,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(d){console.log("form finish",d),z(d)},hidden:t.curr==null,children:[(0,o.jsxs)(m.Z.Group,{compact:!0,children:[(0,o.jsx)(n.Z.Item,{name:"mlBackendUrl",rules:[{required:!0,message:"Please input ml backend url"}],style:{fontSize:"1.5rem"},children:(0,o.jsx)(m.Z,{autoComplete:"off",allowClear:!0,addonBefore:"ML Backend URL ",style:{textAlign:"left"}})}),(0,o.jsx)(u.Z,{type:"primary",onClick:$,children:"Set"})]}),(0,o.jsx)(n.Z.Item,{name:"modelName",label:"Model",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please select a model"}],style:{fontSize:"1.5rem"},children:(0,o.jsx)(i.Z,{placeholder:"Select a model",children:(C=j.all)===null||C===void 0?void 0:C.map(function(r){return(0,o.jsx)(W,{value:r.name,children:r.name})})})}),(0,o.jsx)(n.Z.Item,{wrapperCol:{span:16,offset:6},children:(0,o.jsx)(u.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:"Save"})})]})})]})};f.default=F}}]);
