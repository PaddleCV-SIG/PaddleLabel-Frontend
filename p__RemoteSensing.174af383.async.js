(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[333],{55252:function(B){B.exports={RSPop1:"RSPop1___17x8k",RSPop2:"RSPop2___27kK5"}},75513:function(B){B.exports={segment:"segment___3WmPw",mainStage:"mainStage___2kT1s",draw:"draw___Ff0QW",pblock:"pblock___3sGxC",progress:"progress___KQyBx",rightSideBar:"rightSideBar___11FX3",determinOutline:"determinOutline___1g1YI"}},47712:function(B,Q,n){"use strict";n.r(Q),n.d(Q,{default:function(){return je}});var ze=n(34669),te=n(54458),Fe=n(20136),b=n(55241),Xe=n(49111),ne=n(19650),Ye=n(62350),oe=n(75443),He=n(57663),x=n(71577),Z=n(2824),u=n(67294),ae=n(75513),j=n.n(ae),le=n(8088),i=n(61541),U=n(44434),re=n(5041),se=n(49813),Ke=n(98858),p=n(4914),Qe=n(13062),ie=n(71230),Ue=n(59250),V=n(13013),We=n(89032),P=n(15746),$e=n(30887),D=n(54689),we=n(34792),ce=n(48086),k=n(89366),J=n(57254),de=n(55252),M=n.n(de),W=n(48971),e=n(85893);function me(l){ce.default.info("Click on menu item."),console.log("click",l)}var z=(0,e.jsxs)(D.Z,{onClick:me,children:[(0,e.jsx)(D.Z.Item,{icon:(0,e.jsx)(k.Z,{}),children:"band_1"},"1"),(0,e.jsx)(D.Z.Item,{icon:(0,e.jsx)(k.Z,{}),children:"band_2"},"2"),(0,e.jsx)(D.Z.Item,{icon:(0,e.jsx)(k.Z,{}),children:"band_3"},"3")]}),ve=function(){var c=(0,W.YB)(),d=c.formatMessage({id:"component.PPRS.r"}),m=c.formatMessage({id:"component.PPRS.g"}),I=c.formatMessage({id:"component.PPRS.b"}),L=c.formatMessage({id:"component.PPRS.dataInformation"}),R=c.formatMessage({id:"component.PPRS.fileName"}),E=c.formatMessage({id:"component.PPRS.row"}),g=c.formatMessage({id:"component.PPRS.column"}),v=c.formatMessage({id:"component.PPRS.bands"}),h=c.formatMessage({id:"component.PPRS.dataType"}),O=c.formatMessage({id:"component.PPRS.EPSG"}),y=c.formatMessage({id:"component.PPRS.unit"});return(0,e.jsxs)("div",{children:[(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(P.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:d})}),(0,e.jsx)(P.Z,{className:M().RSPop2,children:(0,e.jsx)(V.Z,{overlay:z,children:(0,e.jsxs)(x.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(J.Z,{})]})})}),(0,e.jsx)(P.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:m})}),(0,e.jsx)(P.Z,{className:M().RSPop2,children:(0,e.jsx)(V.Z,{overlay:z,children:(0,e.jsxs)(x.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(J.Z,{})]})})}),(0,e.jsx)(P.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:I})}),(0,e.jsx)(P.Z,{className:M().RSPop2,children:(0,e.jsx)(V.Z,{overlay:z,children:(0,e.jsxs)(x.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(J.Z,{})]})})})]}),(0,e.jsxs)(p.Z,{title:L,column:1,bordered:!0,children:[(0,e.jsx)(p.Z.Item,{label:R,children:"A/XXX.tif"}),(0,e.jsx)(p.Z.Item,{label:E,children:"1234"}),(0,e.jsx)(p.Z.Item,{label:g,children:"897"}),(0,e.jsx)(p.Z.Item,{label:v,children:"7"}),(0,e.jsx)(p.Z.Item,{label:h,children:"UInt16"}),(0,e.jsx)(p.Z.Item,{label:O,children:"7030"}),(0,e.jsx)(p.Z.Item,{label:y,children:"m"})]})]})},ge=ve,fe=n(97927),ue=n(37233),pe=n(51327),$=n(11849);function he(l){var c=(0,u.useState)(0),d=(0,Z.Z)(c,2),m=d[0],I=d[1],L=(0,u.useState)(!1),R=(0,Z.Z)(L,2),E=R[0],g=R[1];(0,u.useEffect)(function(){localStorage.setItem("currentLabel",JSON.stringify(l.currentLabel||{}))},[l.currentLabel]),(0,u.useEffect)(function(){localStorage.setItem("annotations",JSON.stringify(l.annotations||{}))},[l.annotations]);var v=function(){var t,a=(t=l.leafletMapRef.current)===null||t===void 0?void 0:t.leafletElement.pm.globalDrawModeEnabled();console.log(a)},h=function(t){var a=localStorage.getItem("currentLabel");if(a!="{}"){var o,S;g(!0);var f=JSON.parse(a||"{}");(o=l.leafletMapRef.current)===null||o===void 0||o.leafletElement.pm.enableDraw(t),(S=l.leafletMapRef.current)===null||S===void 0||S.leafletElement.pm.setPathOptions({color:f==null?void 0:f.color,fillColor:f==null?void 0:f.color,fillOpacity:.4})}else{var C;alert("Test"),(C=l.leafletMapRef.current)===null||C===void 0||C.leafletElement.pm.disableDraw(t),g(!1)}},O=function(t){var a;(a=l.leafletMapRef.current)===null||a===void 0||a.leafletElement.pm.disableDraw(t),g(!1),v()},y=function(){var t;return(t=l.leafletMapRef.current)===null||t===void 0?void 0:t.leafletElement.pm.Draw.getActiveShape()},X=function(){if(y()=="Polygon"){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.pm.Draw.Polygon._removeLastVertex(),v()}else v(),g(!1)},A=function(){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.pm.toggleGlobalDragMode(),v()},w=function(){if(y()=="Polygon"){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.pm.Draw.Polygon._finishShape(),v(),g(!1)}else v(),g(!1)},q=function(){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.pm.enableGlobalRemovalMode(),v()},Y=function(){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.pm.toggleGlobalEditMode(),v(),g(!1)},T=function(){g(!1)},H=function(t){var a=t.toGeoJSON(),o=JSON.parse(localStorage.getItem("currentLabel")||"{}");I(m+1),a.properties={labelName:o==null?void 0:o.name,stroke:o==null?void 0:o.color,annotationId:m+1};var S=JSON.parse(localStorage.getItem("annotations")||"{}"),f=(0,$.Z)((0,$.Z)({},S),{},{features:S.features.concat(a)});console.log(f),l.setAnnotations(f),l.recordHistory(f)};function _(s){g(!1),H(s.layer)}var K=function(t){console.log(t)},G=function(){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.zoomIn(),v()},N=function(){var t;(t=l.leafletMapRef.current)===null||t===void 0||t.leafletElement.zoomOut(),v()};return{polyVisable:E,RSDraw:h,RSDrawDisable:O,removeLastVertex:X,moveShape:A,finishShape:w,removeShape:q,editMode:Y,saveGeoJson:T,storeOnDb:H,onShapeCreate:_,onShapeEdit:K,toolZoomIn:G,toolZoomOut:N,currentShape:y}}var F=n(27992),Se=n(15156),xe=function(){var c=(0,Se.$L)(u.useState,u.useEffect,{label:{oneHot:!1},tool:{defaultTool:"mover"},effectTrigger:{}}),d=(0,Z.Z)(c,10),m=d[0],I=d[1],L=d[2],R=d[3],E=d[4],g=d[5],v=d[6],h=d[7],O=d[8],y=d[9],X=(0,u.useState)(!1),A=(0,Z.Z)(X,2),w=A[0],q=A[1],Y=(0,u.useState)(!1),T=(0,Z.Z)(Y,2),H=T[0],_=T[1],K=(0,u.useState)({type:"FeatureCollection",features:[]}),G=(0,Z.Z)(K,2),N=G[0],s=G[1];(0,u.useEffect)(function(){},[]),console.log("rs is re-rendering! label.curr: ".concat(JSON.stringify(h.curr)));var t=u.useRef(null),a=he({leafletMapRef:t,currentLabel:h.curr,setAnnotations:s,annotations:N}),o=(0,W.YB)(),S=o.formatMessage({id:"pages.Maps.finished"}),f=o.formatMessage({id:"pages.Maps.removeLastVertex"}),C=o.formatMessage({id:"pages.Maps.cancel"}),Ze=o.formatMessage({id:"pages.Maps.boundary"}),Pe=o.formatMessage({id:"pages.Maps.remoteSensing"}),Me=o.formatMessage({id:"pages.Maps.grids"}),ye=o.formatMessage({id:"pages.toolBar.polygon"}),be=o.formatMessage({id:"pages.toolBar.rubber"}),Re=o.formatMessage({id:"pages.toolBar.zoomIn"}),Ce=o.formatMessage({id:"pages.toolBar.zoomOut"}),Be=o.formatMessage({id:"pages.toolBar.move"}),De=o.formatMessage({id:"pages.toolBar.unDo"}),Ie=o.formatMessage({id:"pages.toolBar.reDo"}),Le=o.formatMessage({id:"pages.toolBar.save"}),Ee=o.formatMessage({id:"pages.toolBar.edit"}),Oe=o.formatMessage({id:"pages.toolBar.clearMark"}),Ae=o.formatMessage({id:"pages.toolBar.interactor"}),Te=o.formatMessage({id:"pages.toolBar.segmentThreshold"}),Ge=o.formatMessage({id:"pages.toolBar.transparency"}),Ne=o.formatMessage({id:"pages.toolBar.visualRadius"}),Ve=o.formatMessage({id:"pages.toolBar.determineOutline"}),ke=o.formatMessage({id:"pages.toolBar.divideData"}),Je=o.formatMessage({id:"pages.toolBar.export"});return(0,e.jsxs)(le.Z,{className:j().segment,children:[(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(b.Z,{placement:"rightTop",visible:a.polyVisable,content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(ne.Z,{children:[(0,e.jsx)(x.Z,{type:"primary",onClick:function(){a.finishShape()},children:S}),(0,e.jsx)(x.Z,{type:"primary",onClick:function(){a.removeLastVertex()},children:f}),(0,e.jsx)(oe.Z,{title:"Are you sure cancel this task?",okText:"Yes",cancelText:"No",children:(0,e.jsx)(x.Z,{type:"primary",onClick:function(){a.RSDrawDisable(a.currentShape())},children:C})})]})}),trigger:m.curr=="Polygon"?"hover":"click",children:(0,e.jsx)(i.Z,{active:m.curr=="Polygon",imgSrc:"./pics/buttons/polygon.png",onClick:function(){m.setCurr("Polygon"),a.RSDraw("Polygon")},children:ye})}),(0,e.jsx)(i.Z,{onClick:function(){a.editMode()},imgSrc:"./pics/buttons/edit.png",children:Ee}),(0,e.jsxs)(b.Z,{placement:"rightTop",title:"title",content:"content",trigger:m.curr=="rubber"?"hover":"click",children:[" ",(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/rubber.png",onClick:function(){a.removeShape()},children:be})]}),(0,e.jsx)(i.Z,{onClick:function(){a.toolZoomIn()},imgSrc:"./pics/buttons/zoom_in.png",children:Re}),(0,e.jsx)(i.Z,{onClick:function(){a.toolZoomOut()},imgSrc:"./pics/buttons/zoom_out.png",children:Ce}),(0,e.jsx)(i.Z,{onClick:function(){a.saveGeoJson()},imgSrc:"./pics/buttons/save.png",children:Le}),(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/move.png",onClick:function(){return a.moveShape()},children:Be}),(0,e.jsx)(i.Z,{onClick:function(){},imgSrc:"./pics/buttons/prev.png",children:De}),(0,e.jsx)(i.Z,{onClick:function(){},imgSrc:"./pics/buttons/next.png",children:Ie}),(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Oe})]}),(0,e.jsxs)("div",{className:j().mainStage,children:[(0,e.jsx)("div",{className:j().draw,children:(0,e.jsx)(ue.Z,{leafletMapRef:t,onShapeCreate:a.onShapeCreate,onShapeEdit:a.onShapeEdit})}),(0,e.jsx)("div",{className:j().pblock,children:(0,e.jsx)("div",{className:j().progress,children:(0,e.jsx)(te.Z,{percent:50,status:"active"})})})]}),(0,e.jsxs)(U.Z,{disLoc:"right",children:[(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Ae}),(0,e.jsx)(F.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Te}),(0,e.jsx)(F.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",children:Ge}),(0,e.jsx)(F.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:Ne}),(0,e.jsxs)(b.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of boundary simplification",content:(0,e.jsx)(se.Z,{}),trigger:m.curr=="boundry"?"click":"hover",children:[" ",(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/border_simplify.png",onClick:function(){m.setCurr("boundry")},children:Ze})]}),(0,e.jsxs)(b.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of remote sensing",content:(0,e.jsx)(ge,{}),trigger:m.curr=="colorgun"?"click":"hover",children:[" ",(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/remote_sensing_setting.png",onClick:function(){m.setCurr("colorgun")},children:Pe})]}),(0,e.jsxs)(b.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Switch grids",content:(0,e.jsx)(fe.Z,{}),trigger:m.curr=="grid"?"click":"hover",children:[" ",(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/switch_grid.png",onClick:function(){m.setCurr("grid")},children:Me})]}),(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/data_division.png",children:ke}),(0,e.jsx)(i.Z,{imgSrc:"./pics/buttons/export.png",children:Je})]}),(0,e.jsxs)("div",{className:j().rightSideBar,children:[(0,e.jsx)("div",{className:j().determinOutline,children:(0,e.jsx)(x.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,children:Ve})}),(0,e.jsx)(re.Z,{selectedLabel:h.curr,onLabelSelect:function(ee){h.setCurr(ee),console.log(ee)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,e.jsx)(pe.Z,{annotations:N,onAnnotationSelect:function(){},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(){}})]})]})},je=xe}}]);
