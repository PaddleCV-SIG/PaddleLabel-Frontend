(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[498],{91220:function(v,C,e){"use strict";e.d(C,{Z:function(){return u}});var T=e(64254);function u(r,m){var c;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(c=(0,T.Z)(r))||m&&r&&typeof r.length=="number"){c&&(r=c);var b=0,S=function(){};return{s:S,n:function(){return b>=r.length?{done:!0}:{done:!1,value:r[b++]}},e:function(i){throw i},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z=!0,I=!1,f;return{s:function(){c=r[Symbol.iterator]()},n:function(){var i=c.next();return Z=i.done,i},e:function(i){I=!0,f=i},f:function(){try{!Z&&c.return!=null&&c.return()}finally{if(I)throw f}}}}},48627:function(v){v.exports={container:"container___2RXc3"}},18398:function(v){v.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},11428:function(v,C,e){"use strict";var T=e(67294),u=e(48627),r=e.n(u),m=e(85893),c=function(S){return(0,m.jsx)("div",{className:"".concat(r().container),style:{backgroundImage:"url(./pics/background.png)"},children:S.children})};C.Z=c},68370:function(v,C,e){"use strict";e.r(C),e.d(C,{default:function(){return X}});var T=e(34792),u=e(48086),r=e(67294),m=e(48971),c=e(20228),b=e(11382),S=e(57663),Z=e(71577),I=e(88983),f=e(47933),y=e(47673),i=e(24044),de=e(32157),U=e(82363),ue=e(9715),g=e(93766),F=e(2824),ce=e(89032),G=e(15746),j=e(11849),me=e(13062),E=e(71230),M=e(1870),K=e(11700),W=e(18398),p=e.n(W),D=e(37071),o=e(15156),a=e(85893),z=function(n){return(0,a.jsxs)("div",{className:p()._ppcard,style:n.style,children:[(0,a.jsx)(E.Z,{className:p().titleRow,style:{display:n.title?void 0:"none"},children:(0,a.jsx)(K.Z,{className:p().title,children:n.title})}),(0,a.jsx)(E.Z,{style:{marginTop:26},children:(0,a.jsx)(G.Z,{span:24,style:(0,j.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},n.innerStyle),children:n.children})})]})},Q=function(n){var h=(0,o.Gd)(r.useState),x=D.Z.getQueryVariable("projectId"),Y=(0,r.useState)(!1),A=(0,F.Z)(Y,2),w=A[0],O=A[1],q=(0,r.useState)([]),N=(0,F.Z)(q,2),R=N[0],_=N[1],ee=(0,r.useState)(),V=(0,F.Z)(ee,2),te=V[0],B=V[1],s=(0,o.Ad)("component.PPCreater"),ae=function(l){O(!0);var d={};l.segMaskType&&(d.segMaskType=l.segMaskType),x?h.update(x,(0,j.Z)((0,j.Z)({},l),{},{otherSettings:d})).then(function(){m.m8.push("/project_overview?projectId=".concat(x))}):h.create((0,j.Z)((0,j.Z)({},l),{},{taskCategoryId:o.ux[n.taskCategory].id,otherSettings:d})).catch(function(P){u.default.error(s("creationFail")),D.Z.parseError(P,u.default),O(!1)}).then(function(P){P&&m.m8.push("/".concat((0,o.LV)(n.taskCategory),"?projectId=").concat(P.projectId))})},ne=g.Z.useForm(),le=(0,F.Z)(ne,1),k=le[0];(0,r.useEffect)(function(){h.getCurr(x).then(function(t){var l,d={name:t==null?void 0:t.name,description:t==null?void 0:t.description,dataDir:t==null?void 0:t.dataDir,labelDir:t==null?void 0:t.labelDir,labelFormat:t==null?void 0:t.labelFormat,segMaskType:t==null||(l=t.otherSettings)===null||l===void 0?void 0:l.segMaskType};console.log("values",d),console.log("othersettings",t==null?void 0:t.otherSettings),t!=null&&t.labelFormat&&B(t.labelFormat),k.setFieldsValue(d)})},[]);var re={classification:{single_class:"clas/single/",multi_class:"clas/multi/"},detection:{coco:"det/coco/",voc:"det/voc/"},semanticSegmentation:{mask:"semantic_seg/mask/",polygon:"semantic_seg/polygon/"},instanceSegmentation:{mask:"instance_seg/mask/",polygon:"instance_seg/polygon/"}},se=U.Z.DirectoryTree,oe=function(l,d){console.log("Trigger Select",l,d,d.node.isLeaf!=null);var P=d.node.isLeaf!=null;P&&window.open("/api/samples/file?path="+d.node.key)};function ie(){return R.length==0?(0,a.jsx)("img",{src:n.imgSrc,style:{width:"40rem"}}):(0,a.jsx)("div",{children:(0,a.jsx)(se,{onSelect:oe,treeData:R,blockNode:!1})})}return(0,a.jsx)("div",{className:p().shadow,style:n.style,children:(0,a.jsxs)(b.Z,{tip:"Import in progress",spinning:w,children:[(0,a.jsx)("div",{id:"left",className:p().block_l,children:(0,a.jsx)(z,{title:s(n.taskCategory,"global")+s("project"),style:{height:760,padding:"1.25rem 0"},children:(0,a.jsxs)(g.Z,{form:k,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(l){console.log(l),ae(l)},children:[(0,a.jsx)(g.Z.Item,{name:"name",label:s("projectName"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,a.jsx)(i.Z,{size:"large",placeholder:s("anyString","global"),style:{height:"3.13rem"}})}),(0,a.jsx)(g.Z.Item,{name:"dataDir",label:(0,a.jsxs)("div",{children:[s("datasePath")," ",(0,a.jsx)(M.Z,{style:{fontSize:"12px"},onClick:function(){return u.default.info({content:"The root directory of the dataset, where all images and labels are. Click here for more detail.",onClick:function(){return window.open("https://github.com/PaddleCV-SIG/PP-Label/blob/develop/doc/dataset_file_structure.md#".concat(n.taskCategory))}})}})]}),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,a.jsx)(i.Z,{size:"large",placeholder:s("absolutePath","global"),style:{height:"3.13rem"},disabled:x!=null})}),(0,a.jsx)(g.Z.Item,{name:"description",label:s("description"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,a.jsx)(i.Z,{size:"large",placeholder:s("anyString","global"),style:{height:"3.13rem"}})}),(0,a.jsx)(g.Z.Item,{name:"labelFormat",label:(0,a.jsxs)("div",{children:[s("labelFormat"),(0,a.jsx)(M.Z,{style:{fontSize:"12px"},onClick:function(){return u.default.info({content:"Choose the format to import/export dataset. Click here to see details.",onClick:function(){window.open("https://github.com/PaddleCV-SIG/PP-Label/blob/develop/doc/dataset_file_structure.md#".concat(n.taskCategory))}})}})]}),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:o.ux[n.taskCategory].labelFormats!=null,message:"Please choose a label import/export format"}],style:{fontSize:"1.5rem",display:o.ux[n.taskCategory].labelFormats!=null?void 0:"none"},children:(0,a.jsx)(f.ZP.Group,{size:"large",style:{height:"3.13rem"},onChange:function(){B(k.getFieldValue("labelFormat")),o.bY.getStructure(re[n.taskCategory][k.getFieldValue("labelFormat")]).then(function(l){console.log("sample file structure",l),_(l)})},children:Object.keys(o.ux[n.taskCategory].labelFormats).map(function(t){return(0,a.jsx)(f.ZP,{value:t,children:s((0,o.os)(t),"global.labelFormat")},t)})})}),(0,a.jsx)(g.Z.Item,{name:"segMaskType",label:s("segMaskType"),labelCol:{span:6},wrapperCol:{span:16},style:{fontSize:"1.5rem",display:te=="mask"&&n.taskCategory=="semanticSegmentation"?void 0:"none"},children:(0,a.jsx)(f.ZP.Group,{size:"large",style:{height:"3.13rem"},children:["pesudo","grayscale"].map(function(t){return(0,a.jsx)(f.ZP,{value:t,children:s(t,"global.segMaskType")},t)})})}),(0,a.jsx)(g.Z.Item,{name:"maxPoints",label:s("maxPoints"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:n.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:n.taskCategory=="keypointDetection"?void 0:"none"},children:(0,a.jsx)(i.Z,{size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,a.jsxs)(g.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,a.jsx)(Z.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:s(x?"update":"create")}),"\xA0\xA0",(0,a.jsx)(Z.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){m.m8.goBack()},children:s("cancel")})]})]})})}),(0,a.jsx)("div",{id:"right",className:p().block_r,children:(0,a.jsx)(z,{style:{height:"43.63rem",padding:"0.5rem 0"},children:ie()})})]})})},$=Q,H=e(11428),J=function(){(0,o.bo)();var n=(0,o.Ad)("pages.projectDetail"),h=D.Z.getQueryVariable("taskCategory");return console.log(h),h?h in o.ux?(0,a.jsx)(H.Z,{children:(0,a.jsx)($,{imgSrc:"./pics/illustration.jpg",taskCategory:h})}):(u.default.error(n("invalidTaskCategory")+" "+h),m.m8.push("/"),null):(u.default.error(n("noTaskCategory")),m.m8.push("/"),null)},X=J}}]);
